var e=Object.defineProperty,t=(t,n,r)=>(((t,n,r)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r})(t,"symbol"!=typeof n?n+"":n,r),r);!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var n,r,o,i,s,a,c,l,u={},d=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function p(e,t){for(var n in t)e[n]=t[n];return e}function v(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,r){var o,i,s,a={};for(s in t)"key"==s?o=t[s]:"ref"==s?i=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return _(e,a,o,i,null)}function _(e,t,n,i,s){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==s?++o:s,__i:-1,__u:0};return null==s&&null!=r.vnode&&r.vnode(a),a}function b(){return{current:null}}function y(e){return e.children}function g(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?w(e):null}function k(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return k(e)}}function x(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!S.__r++||s!==r.debounceRendering)&&((s=r.debounceRendering)||a)(S)}function S(){var e,t,n,o,s,a,l,u,d;for(i.sort(c);e=i.shift();)e.__d&&(t=i.length,o=void 0,a=(s=(n=e).__v).__e,u=[],d=[],(l=n.__P)&&((o=p({},s)).__v=s.__v+1,r.vnode&&r.vnode(o),R(l,o,s,n.__n,void 0!==l.ownerSVGElement,32&s.__u?[a]:null,u,null==a?w(s):a,!!(32&s.__u),d),o.__.__k[o.__i]=o,z(u,o,d),o.__e!=a&&k(o)),i.length>t&&i.sort(c));S.__r=0}function C(e,t,n,r,o,i,s,a,c,l,f){var p,v,m,b,g,k=r&&r.__k||d,x=t.length;for(n.__d=c,function(e,t,n){var r,o,i,s,a,c=t.length,l=n.length,u=l,d=0;for(e.__k=[],r=0;r<c;r++)null!=(o=e.__k[r]=null==(o=t[r])||"boolean"==typeof o||"function"==typeof o?null:"string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?_(null,o,null,null,o):h(o)?_(y,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?_(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)?(o.__=e,o.__b=e.__b+1,a=O(o,n,s=r+d,u),o.__i=a,i=null,-1!==a&&(u--,(i=n[a])&&(i.__u|=131072)),null==i||null===i.__v?(-1==a&&d--,"function"!=typeof o.type&&(o.__u|=65536)):a!==s&&(a===s+1?d++:a>s?u>c-s?d+=a-s:d--:d=a<s&&a==s-1?a-s:0,a!==r+d&&(o.__u|=65536))):(i=n[r])&&null==i.key&&i.__e&&(i.__e==e.__d&&(e.__d=w(i)),U(i,i,!1),n[r]=null,u--);if(u)for(r=0;r<l;r++)null!=(i=n[r])&&0==(131072&i.__u)&&(i.__e==e.__d&&(e.__d=w(i)),U(i,i))}(n,t,k),c=n.__d,p=0;p<x;p++)null!=(m=n.__k[p])&&"boolean"!=typeof m&&"function"!=typeof m&&(v=-1===m.__i?u:k[m.__i]||u,m.__i=p,R(e,m,v,o,i,s,a,c,l,f),b=m.__e,m.ref&&v.ref!=m.ref&&(v.ref&&N(v.ref,null,m),f.push(m.ref,m.__c||b,m)),null==g&&null!=b&&(g=b),65536&m.__u||v.__k===m.__k?c=P(m,c,e):"function"==typeof m.type&&void 0!==m.__d?c=m.__d:b&&(c=b.nextSibling),m.__d=void 0,m.__u&=-196609);n.__d=c,n.__e=g}function P(e,t,n){var r,o;if("function"==typeof e.type){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=P(r[o],t,n));return t}return e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function E(e,t){return t=t||[],null==e||"boolean"==typeof e||(h(e)?e.some((function(e){E(e,t)})):t.push(e)),t}function O(e,t,n,r){var o=e.key,i=e.type,s=n-1,a=n+1,c=t[n];if(null===c||c&&o==c.key&&i===c.type)return n;if(r>(null!=c&&0==(131072&c.__u)?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&0==(131072&c.__u)&&o==c.key&&i===c.type)return s;s--}if(a<t.length){if((c=t[a])&&0==(131072&c.__u)&&o==c.key&&i===c.type)return a;a++}}return-1}function j(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||f.test(t)?n:n+"px"}function A(e,t,n,r,o){var i;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||j(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||j(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?T:M,i)):e.removeEventListener(t,i?T:M,i);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(s){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function M(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(r.event?r.event(e):e)}function T(e){return this.l[e.type+!0](r.event?r.event(e):e)}function R(e,t,o,i,s,a,c,l,d,f){var m,_,b,k,x,S,P,E,O,j,M,T,R,z,N,U=t.type;if(void 0!==t.constructor)return null;128&o.__u&&(d=!!(32&o.__u),a=[l=t.__e=o.__e]),(m=r.__b)&&m(t);e:if("function"==typeof U)try{if(E=t.props,O=(m=U.contextType)&&i[m.__c],j=m?O?O.props.value:m.__:i,o.__c?P=(_=t.__c=o.__c).__=_.__E:("prototype"in U&&U.prototype.render?t.__c=_=new U(E,j):(t.__c=_=new g(E,j),_.constructor=U,_.render=I),O&&O.sub(_),_.props=E,_.state||(_.state={}),_.context=j,_.__n=i,b=_.__d=!0,_.__h=[],_._sb=[]),null==_.__s&&(_.__s=_.state),null!=U.getDerivedStateFromProps&&(_.__s==_.state&&(_.__s=p({},_.__s)),p(_.__s,U.getDerivedStateFromProps(E,_.__s))),k=_.props,x=_.state,_.__v=t,b)null==U.getDerivedStateFromProps&&null!=_.componentWillMount&&_.componentWillMount(),null!=_.componentDidMount&&_.__h.push(_.componentDidMount);else{if(null==U.getDerivedStateFromProps&&E!==k&&null!=_.componentWillReceiveProps&&_.componentWillReceiveProps(E,j),!_.__e&&(null!=_.shouldComponentUpdate&&!1===_.shouldComponentUpdate(E,_.__s,j)||t.__v===o.__v)){for(t.__v!==o.__v&&(_.props=E,_.state=_.__s,_.__d=!1),t.__e=o.__e,t.__k=o.__k,t.__k.forEach((function(e){e&&(e.__=t)})),M=0;M<_._sb.length;M++)_.__h.push(_._sb[M]);_._sb=[],_.__h.length&&c.push(_);break e}null!=_.componentWillUpdate&&_.componentWillUpdate(E,_.__s,j),null!=_.componentDidUpdate&&_.__h.push((function(){_.componentDidUpdate(k,x,S)}))}if(_.context=j,_.props=E,_.__P=e,_.__e=!1,T=r.__r,R=0,"prototype"in U&&U.prototype.render){for(_.state=_.__s,_.__d=!1,T&&T(t),m=_.render(_.props,_.state,_.context),z=0;z<_._sb.length;z++)_.__h.push(_._sb[z]);_._sb=[]}else do{_.__d=!1,T&&T(t),m=_.render(_.props,_.state,_.context),_.state=_.__s}while(_.__d&&++R<25);_.state=_.__s,null!=_.getChildContext&&(i=p(p({},i),_.getChildContext())),b||null==_.getSnapshotBeforeUpdate||(S=_.getSnapshotBeforeUpdate(k,x)),C(e,h(N=null!=m&&m.type===y&&null==m.key?m.props.children:m)?N:[N],t,o,i,s,a,c,l,d,f),_.base=t.__e,t.__u&=-161,_.__h.length&&c.push(_),P&&(_.__E=_.__=null)}catch(L){t.__v=null,d||null!=a?(t.__e=l,t.__u|=d?160:32,a[a.indexOf(l)]=null):(t.__e=o.__e,t.__k=o.__k),r.__e(L,t,o)}else null==a&&t.__v===o.__v?(t.__k=o.__k,t.__e=o.__e):t.__e=function(e,t,r,o,i,s,a,c,l){var d,f,p,m,_,b,y,g=r.props,k=t.props,x=t.type;if("svg"===x&&(i=!0),null!=s)for(d=0;d<s.length;d++)if((_=s[d])&&"setAttribute"in _==!!x&&(x?_.localName===x:3===_.nodeType)){e=_,s[d]=null;break}if(null==e){if(null===x)return document.createTextNode(k);e=i?document.createElementNS("http://www.w3.org/2000/svg",x):document.createElement(x,k.is&&k),s=null,c=!1}if(null===x)g===k||c&&e.data===k||(e.data=k);else{if(s=s&&n.call(e.childNodes),g=r.props||u,!c&&null!=s)for(g={},d=0;d<e.attributes.length;d++)g[(_=e.attributes[d]).name]=_.value;for(d in g)_=g[d],"children"==d||("dangerouslySetInnerHTML"==d?p=_:"key"===d||d in k||A(e,d,null,_,i));for(d in k)_=k[d],"children"==d?m=_:"dangerouslySetInnerHTML"==d?f=_:"value"==d?b=_:"checked"==d?y=_:"key"===d||c&&"function"!=typeof _||g[d]===_||A(e,d,_,g[d],i);if(f)c||p&&(f.__html===p.__html||f.__html===e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(p&&(e.innerHTML=""),C(e,h(m)?m:[m],t,r,o,i&&"foreignObject"!==x,s,a,s?s[0]:r.__k&&w(r,0),c,l),null!=s)for(d=s.length;d--;)null!=s[d]&&v(s[d]);c||(d="value",void 0!==b&&(b!==e[d]||"progress"===x&&!b||"option"===x&&b!==g[d])&&A(e,d,b,g[d],!1),d="checked",void 0!==y&&y!==e[d]&&A(e,d,y,g[d],!1))}return e}(o.__e,t,o,i,s,a,c,d,f);(m=r.diffed)&&m(t)}function z(e,t,n){t.__d=void 0;for(var o=0;o<n.length;o++)N(n[o],n[++o],n[++o]);r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(n){r.__e(n,t.__v)}}))}function N(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(o){r.__e(o,n)}}function U(e,t,n){var o,i;if(r.unmount&&r.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||N(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(s){r.__e(s,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&U(o[i],t,n||"function"!=typeof e.type);n||null==e.__e||v(e.__e),e.__=e.__e=e.__d=void 0}function I(e,t,n){return this.constructor(e,n)}function L(e,t,o){var i,s,a,c;r.__&&r.__(e,t),s=(i="function"==typeof o)?null:o&&o.__k||t.__k,a=[],c=[],R(t,e=(!i&&o||t).__k=m(y,null,[e]),s||u,u,void 0!==t.ownerSVGElement,!i&&o?[o]:s?null:t.firstChild?n.call(t.childNodes):null,a,!i&&o?o:s?s.__e:t.firstChild,i,c),z(a,e,c)}function D(e,t){L(e,t,D)}function B(e,t,r){var o,i,s,a,c=p({},e.props);for(s in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)"key"==s?o=t[s]:"ref"==s?i=t[s]:c[s]=void 0===t[s]&&void 0!==a?a[s]:t[s];return arguments.length>2&&(c.children=arguments.length>3?n.call(arguments,2):r),_(e.type,c,o||e.key,i||e.ref,null)}function H(e,t){var n={__c:t="__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some((function(e){e.__e=!0,x(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}function F(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function q(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}n=d.slice,r={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(a){e=a}throw e}},o=0,g.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(p({},n),this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),x(this))},g.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),x(this))},g.prototype.render=y,i=[],a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,c=function(e,t){return e.__v.__b-t.__v.__b},S.__r=0,l=0;var W,V,$,X,K={exports:{}},G={},Y=0,Q=[],J=[],Z=r.__b,ee=r.__r,te=r.diffed,ne=r.__c,re=r.unmount;function oe(e,t){r.__h&&r.__h(V,e,Y||t),Y=0;var n=V.__H||(V.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:J}),n.__[e]}function ie(e){return Y=1,se(ke,e)}function se(e,t,n){var r=oe(W++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):ke(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}))}],r.__c=V,!V.u)){var o=function(e,t,n){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter((function(e){return e.__c}));if(o.every((function(e){return!e.__N})))return!i||i.call(this,e,t,n);var s=!1;return o.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(s=!0)}})),!(!s&&r.__c.props===e)&&(!i||i.call(this,e,t,n))};V.u=!0;var i=V.shouldComponentUpdate,s=V.componentWillUpdate;V.componentWillUpdate=function(e,t,n){if(this.__e){var r=i;i=void 0,o(e,t,n),i=r}s&&s.call(this,e,t,n)},V.shouldComponentUpdate=o}return r.__N||r.__}function ae(e,t){var n=oe(W++,3);!r.__s&&we(n.__H,t)&&(n.__=e,n.i=t,V.__H.__h.push(n))}function ce(e,t){var n=oe(W++,4);!r.__s&&we(n.__H,t)&&(n.__=e,n.i=t,V.__h.push(n))}function le(e){return Y=5,de((function(){return{current:e}}),[])}function ue(e,t,n){Y=6,ce((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function de(e,t){var n=oe(W++,7);return we(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function fe(e,t){return Y=8,de((function(){return e}),t)}function he(e){var t=V.context[e.__c],n=oe(W++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(V)),t.props.value):e.__}function pe(e,t){r.useDebugValue&&r.useDebugValue(t?t(e):e)}function ve(){var e=oe(W++,11);if(!e.__){for(var t=V.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function me(){for(var e;e=Q.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ye),e.__H.__h.forEach(ge),e.__H.__h=[]}catch(t){e.__H.__h=[],r.__e(t,e.__v)}}r.__b=function(e){V=null,Z&&Z(e)},r.__r=function(e){ee&&ee(e),W=0;var t=(V=e.__c).__H;t&&($===V?(t.__h=[],V.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=J,e.__N=e.i=void 0}))):(t.__h.forEach(ye),t.__h.forEach(ge),t.__h=[],W=0)),$=V},r.diffed=function(e){te&&te(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Q.push(t)&&X===r.requestAnimationFrame||((X=r.requestAnimationFrame)||be)(me)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==J&&(e.__=e.__V),e.i=void 0,e.__V=J}))),$=V=null},r.__c=function(e,t){t.some((function(e){try{e.__h.forEach(ye),e.__h=e.__h.filter((function(e){return!e.__||ge(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],r.__e(n,e.__v)}})),ne&&ne(e,t)},r.unmount=function(e){re&&re(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{ye(e)}catch(n){t=n}})),n.__H=void 0,t&&r.__e(t,n.__v))};var _e="function"==typeof requestAnimationFrame;function be(e){var t,n=function(){clearTimeout(r),_e&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);_e&&(t=requestAnimationFrame(n))}function ye(e){var t=V,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),V=t}function ge(e){var t=V;e.__c=e.__(),V=t}function we(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function ke(e,t){return"function"==typeof t?t(e):t}function xe(e,t){for(var n in t)e[n]=t[n];return e}function Se(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function Ce(e){this.props=e}function Pe(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:Se(this.props,e)}function r(t){return this.shouldComponentUpdate=n,m(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(Ce.prototype=new g).isPureReactComponent=!0,Ce.prototype.shouldComponentUpdate=function(e,t){return Se(this.props,e)||Se(this.state,t)};var Ee=r.__b;r.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Ee&&Ee(e)};var Oe="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function je(e){function t(t){var n=xe({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=Oe,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Ae=function(e,t){return null==e?null:E(E(e).map(t))},Me={map:Ae,forEach:Ae,count:function(e){return e?E(e).length:0},only:function(e){var t=E(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:E},Te=r.__e;r.__e=function(e,t,n,r){if(e.then)for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t);Te(e,t,n,r)};var Re=r.unmount;function ze(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=xe({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return ze(e,t,n)}))),e}function Ne(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return Ne(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function Ue(){this.__u=0,this.t=null,this.__b=null}function Ie(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Le(e){var t,n,r;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return m(n,o)}return o.displayName="Lazy",o.__f=!0,o}function De(){this.u=null,this.o=null}r.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Re&&Re(e)},(Ue.prototype=new g).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=Ie(r.__v),i=!1,s=function(){i||(i=!0,n.__R=null,o?o(a):a())};n.__R=s;var a=function(){if(! --r.__u){if(r.state.__a){var e=r.state.__a;r.__v.__k[0]=Ne(e,e.__c.__P,e.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(s,s)},Ue.prototype.componentWillUnmount=function(){this.t=[]},Ue.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=ze(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&m(y,null,e.fallback);return o&&(o.__u&=-33),[m(y,null,t.__a?null:e.children),o]};var Be=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function He(e){return this.getChildContext=function(){return e.context},e.children}function Fe(e){var t=this,n=e.i;t.componentWillUnmount=function(){L(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),L(m(He,{context:t.context},e.__v),t.l)}function qe(e,t){var n=m(Fe,{__v:e,i:t});return n.containerInfo=t,n}(De.prototype=new g).__a=function(e){var t=this,n=Ie(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),Be(t,e,r)):o()};n?n(i):i()}},De.prototype.render=function(e){this.u=null,this.o=new Map;var t=E(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},De.prototype.componentDidUpdate=De.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){Be(e,n,t)}))};var We="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Ve=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,$e=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Xe=/[A-Z0-9]/g,Ke="undefined"!=typeof document,Ge=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function Ye(e,t,n){return null==t.__k&&(t.textContent=""),L(e,t),"function"==typeof n&&n(),e?e.__c:null}function Qe(e,t,n){return D(e,t),"function"==typeof n&&n(),e?e.__c:null}g.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(g.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var Je=r.event;function Ze(){}function et(){return this.cancelBubble}function tt(){return this.defaultPrevented}r.event=function(e){return Je&&(e=Je(e)),e.persist=Ze,e.isPropagationStopped=et,e.isDefaultPrevented=tt,e.nativeEvent=e};var nt,rt={enumerable:!1,configurable:!0,get:function(){return this.class}},ot=r.vnode;r.vnode=function(e){"string"==typeof e.type&&function(e){var t=e.props,n=e.type,r={};for(var o in t){var i=t[o];if(!("value"===o&&"defaultValue"in t&&null==i||Ke&&"children"===o&&"noscript"===n||"class"===o||"className"===o)){var s=o.toLowerCase();"defaultValue"===o&&"value"in t&&null==t.value?o="value":"download"===o&&!0===i?i="":"ondoubleclick"===s?o="ondblclick":"onchange"!==s||"input"!==n&&"textarea"!==n||Ge(t.type)?"onfocus"===s?o="onfocusin":"onblur"===s?o="onfocusout":$e.test(o)?o=s:-1===n.indexOf("-")&&Ve.test(o)?o=o.replace(Xe,"-$&").toLowerCase():null===i&&(i=void 0):s=o="oninput","oninput"===s&&r[o=s]&&(o="oninputCapture"),r[o]=i}}"select"==n&&r.multiple&&Array.isArray(r.value)&&(r.value=E(t.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==n&&null!=r.defaultValue&&(r.value=E(t.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",rt)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(e),e.$$typeof=We,ot&&ot(e)};var it=r.__r;r.__r=function(e){it&&it(e),nt=e.__c};var st=r.diffed;r.diffed=function(e){st&&st(e);var t=e.props,n=e.__e;null!=n&&"textarea"===e.type&&"value"in t&&t.value!==n.value&&(n.value=null==t.value?"":t.value),nt=null};var at={ReactCurrentDispatcher:{current:{readContext:function(e){return nt.__n[e.__c].props.value}}}};function ct(e){return m.bind(null,e)}function lt(e){return!!e&&e.$$typeof===We}function ut(e){return lt(e)&&e.type===y}function dt(e){return lt(e)?B.apply(null,arguments):e}function ft(e){return!!e.__k&&(L(null,e),!0)}function ht(e){return e&&(e.base||1===e.nodeType&&e)||null}var pt=function(e,t){return e(t)},vt=function(e,t){return e(t)},mt=y;function _t(e){e()}function bt(e){return e}function yt(){return[!1,_t]}var gt=ce,wt=lt;function kt(e,t){var n=t(),r=ie({h:{__:n,v:t}}),o=r[0].h,i=r[1];return ce((function(){o.__=n,o.v=t,xt(o)&&i({h:o})}),[e,n,t]),ae((function(){return xt(o)&&i({h:o}),e((function(){xt(o)&&i({h:o})}))}),[e]),n}function xt(e){var t,n,r=e.v,o=e.__;try{var i=r();return!((t=o)===(n=i)&&(0!==t||1/t==1/n)||t!=t&&n!=n)}catch(s){return!0}}var St={useState:ie,useId:ve,useReducer:se,useEffect:ae,useLayoutEffect:ce,useInsertionEffect:gt,useTransition:yt,useDeferredValue:bt,useSyncExternalStore:kt,startTransition:_t,useRef:le,useImperativeHandle:ue,useMemo:de,useCallback:fe,useContext:he,useDebugValue:pe,version:"17.0.2",Children:Me,render:Ye,hydrate:Qe,unmountComponentAtNode:ft,createPortal:qe,createElement:m,createContext:H,createFactory:ct,cloneElement:dt,createRef:b,Fragment:y,isValidElement:lt,isElement:wt,isFragment:ut,findDOMNode:ht,Component:g,PureComponent:Ce,memo:Pe,forwardRef:je,flushSync:vt,unstable_batchedUpdates:pt,StrictMode:mt,Suspense:Ue,SuspenseList:De,lazy:Le,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:at};const Ct=Object.freeze(Object.defineProperty({__proto__:null,Children:Me,Component:g,Fragment:y,PureComponent:Ce,StrictMode:mt,Suspense:Ue,SuspenseList:De,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:at,cloneElement:dt,createContext:H,createElement:m,createFactory:ct,createPortal:qe,createRef:b,default:St,findDOMNode:ht,flushSync:vt,forwardRef:je,hydrate:Qe,isElement:wt,isFragment:ut,isValidElement:lt,lazy:Le,memo:Pe,render:Ye,startTransition:_t,unmountComponentAtNode:ft,unstable_batchedUpdates:pt,useCallback:fe,useContext:he,useDebugValue:pe,useDeferredValue:bt,useEffect:ae,useErrorBoundary:function(e){var t=oe(W++,10),n=ie();return t.__=e,V.componentDidCatch||(V.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e)}),[n[0],function(){n[1](void 0)}]},useId:ve,useImperativeHandle:ue,useInsertionEffect:gt,useLayoutEffect:ce,useMemo:de,useReducer:se,useRef:le,useState:ie,useSyncExternalStore:kt,useTransition:yt,version:"17.0.2"},Symbol.toStringTag,{value:"Module"})),Pt=q(Ct);
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Et=Pt;var Ot="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},jt=Et.useState,At=Et.useEffect,Mt=Et.useLayoutEffect,Tt=Et.useDebugValue;function Rt(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch(r){return!0}}var zt="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=jt({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return Mt((function(){o.value=n,o.getSnapshot=t,Rt(o)&&i({inst:o})}),[e,n,t]),At((function(){return Rt(o)&&i({inst:o}),e((function(){Rt(o)&&i({inst:o})}))}),[e]),Tt(n),n};G.useSyncExternalStore=void 0!==Et.useSyncExternalStore?Et.useSyncExternalStore:zt,K.exports=G;var Nt=K.exports,Ut={exports:{}},It={},Lt=Pt,Dt=Nt;var Bt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Ht=Dt.useSyncExternalStore,Ft=Lt.useRef,qt=Lt.useEffect,Wt=Lt.useMemo,Vt=Lt.useDebugValue;It.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=Ft(null);if(null===i.current){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Wt((function(){function e(e){if(!c){if(c=!0,i=e,e=r(e),void 0!==o&&s.hasValue){var t=s.value;if(o(t,e))return a=t}return a=e}if(t=a,Bt(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(i=e,a=n)}var i,a,c=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,o]);var a=Ht(e,i[0],i[1]);return qt((function(){s.hasValue=!0,s.value=a}),[a]),Vt(a),a},Ut.exports=It;var $t=Ut.exports;let Xt=function(e){e()};const Kt=()=>Xt,Gt=Symbol.for("react-redux-context"),Yt="undefined"!=typeof globalThis?globalThis:{};function Qt(){var e;if(!H)return{};const t=null!=(e=Yt[Gt])?e:Yt[Gt]=new Map;let n=t.get(H);return n||(n=H(null),t.set(H,n)),n}const Jt=Qt();function Zt(e=Jt){return function(){return he(e)}}const en=Zt();let tn=()=>{throw new Error("uSES not initialized!")};const nn=(e,t)=>e===t;function rn(e=Jt){const t=e===Jt?en:Zt(e);return function(e,n={}){const{equalityFn:r=nn,stabilityCheck:o,noopCheck:i}="function"==typeof n?{equalityFn:n}:n,{store:s,subscription:a,getServerState:c,stabilityCheck:l,noopCheck:u}=t();le(!0);const d=fe({[e.name]:t=>e(t)}[e.name],[e,l,o]),f=tn(a.addNestedSub,s.getState,c||s.getState,d,r);return pe(f),f}}const on=rn();var sn={exports:{}},an={},cn="function"==typeof Symbol&&Symbol.for,ln=cn?Symbol.for("react.element"):60103,un=cn?Symbol.for("react.portal"):60106,dn=cn?Symbol.for("react.fragment"):60107,fn=cn?Symbol.for("react.strict_mode"):60108,hn=cn?Symbol.for("react.profiler"):60114,pn=cn?Symbol.for("react.provider"):60109,vn=cn?Symbol.for("react.context"):60110,mn=cn?Symbol.for("react.async_mode"):60111,_n=cn?Symbol.for("react.concurrent_mode"):60111,bn=cn?Symbol.for("react.forward_ref"):60112,yn=cn?Symbol.for("react.suspense"):60113,gn=cn?Symbol.for("react.suspense_list"):60120,wn=cn?Symbol.for("react.memo"):60115,kn=cn?Symbol.for("react.lazy"):60116,xn=cn?Symbol.for("react.block"):60121,Sn=cn?Symbol.for("react.fundamental"):60117,Cn=cn?Symbol.for("react.responder"):60118,Pn=cn?Symbol.for("react.scope"):60119;function En(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case ln:switch(e=e.type){case mn:case _n:case dn:case hn:case fn:case yn:return e;default:switch(e=e&&e.$$typeof){case vn:case bn:case kn:case wn:case pn:return e;default:return t}}case un:return t}}}function On(e){return En(e)===_n}an.AsyncMode=mn,an.ConcurrentMode=_n,an.ContextConsumer=vn,an.ContextProvider=pn,an.Element=ln,an.ForwardRef=bn,an.Fragment=dn,an.Lazy=kn,an.Memo=wn,an.Portal=un,an.Profiler=hn,an.StrictMode=fn,an.Suspense=yn,an.isAsyncMode=function(e){return On(e)||En(e)===mn},an.isConcurrentMode=On,an.isContextConsumer=function(e){return En(e)===vn},an.isContextProvider=function(e){return En(e)===pn},an.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===ln},an.isForwardRef=function(e){return En(e)===bn},an.isFragment=function(e){return En(e)===dn},an.isLazy=function(e){return En(e)===kn},an.isMemo=function(e){return En(e)===wn},an.isPortal=function(e){return En(e)===un},an.isProfiler=function(e){return En(e)===hn},an.isStrictMode=function(e){return En(e)===fn},an.isSuspense=function(e){return En(e)===yn},an.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===dn||e===_n||e===hn||e===fn||e===yn||e===gn||"object"==typeof e&&null!==e&&(e.$$typeof===kn||e.$$typeof===wn||e.$$typeof===pn||e.$$typeof===vn||e.$$typeof===bn||e.$$typeof===Sn||e.$$typeof===Cn||e.$$typeof===Pn||e.$$typeof===xn)},an.typeOf=En,sn.exports=an;var jn=sn.exports,An={};An[jn.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},An[jn.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var Mn,Tn={},Rn=Symbol.for("react.element"),zn=Symbol.for("react.portal"),Nn=Symbol.for("react.fragment"),Un=Symbol.for("react.strict_mode"),In=Symbol.for("react.profiler"),Ln=Symbol.for("react.provider"),Dn=Symbol.for("react.context"),Bn=Symbol.for("react.server_context"),Hn=Symbol.for("react.forward_ref"),Fn=Symbol.for("react.suspense"),qn=Symbol.for("react.suspense_list"),Wn=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),$n=Symbol.for("react.offscreen");
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Xn(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Rn:switch(e=e.type){case Nn:case In:case Un:case Fn:case qn:return e;default:switch(e=e&&e.$$typeof){case Bn:case Dn:case Hn:case Vn:case Wn:case Ln:return e;default:return t}}case zn:return t}}}Mn=Symbol.for("react.module.reference"),Tn.ContextConsumer=Dn,Tn.ContextProvider=Ln,Tn.Element=Rn,Tn.ForwardRef=Hn,Tn.Fragment=Nn,Tn.Lazy=Vn,Tn.Memo=Wn,Tn.Portal=zn,Tn.Profiler=In,Tn.StrictMode=Un,Tn.Suspense=Fn,Tn.SuspenseList=qn,Tn.isAsyncMode=function(){return!1},Tn.isConcurrentMode=function(){return!1},Tn.isContextConsumer=function(e){return Xn(e)===Dn},Tn.isContextProvider=function(e){return Xn(e)===Ln},Tn.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Rn},Tn.isForwardRef=function(e){return Xn(e)===Hn},Tn.isFragment=function(e){return Xn(e)===Nn},Tn.isLazy=function(e){return Xn(e)===Vn},Tn.isMemo=function(e){return Xn(e)===Wn},Tn.isPortal=function(e){return Xn(e)===zn},Tn.isProfiler=function(e){return Xn(e)===In},Tn.isStrictMode=function(e){return Xn(e)===Un},Tn.isSuspense=function(e){return Xn(e)===Fn},Tn.isSuspenseList=function(e){return Xn(e)===qn},Tn.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Nn||e===In||e===Un||e===Fn||e===qn||e===$n||"object"==typeof e&&null!==e&&(e.$$typeof===Vn||e.$$typeof===Wn||e.$$typeof===Ln||e.$$typeof===Dn||e.$$typeof===Hn||e.$$typeof===Mn||void 0!==e.getModuleId)},Tn.typeOf=Xn;const Kn={notify(){},get:()=>[]};function Gn(e,t){let n,r=Kn,o=0,i=!1;function s(){l.onStateChange&&l.onStateChange()}function a(){o++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){const e=Kt();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}function c(){o--,n&&0===o&&(n(),n=void 0,r.clear(),r=Kn)}const l={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),c())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,a())},tryUnsubscribe:function(){i&&(i=!1,c())},getListeners:()=>r};return l}const Yn=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?ce:ae;function Qn({store:e,context:t,children:n,serverState:r,stabilityCheck:o="once",noopCheck:i="once"}){const s=de((()=>{const t=Gn(e);return{store:e,subscription:t,getServerState:r?()=>r:void 0,stabilityCheck:o,noopCheck:i}}),[e,r,o,i]),a=de((()=>e.getState()),[e]);Yn((()=>{const{subscription:t}=s;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),a!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[s,a]);return m((t||Jt).Provider,{value:s},n)}function Jn(e=Jt){const t=e===Jt?en:Zt(e);return function(){const{store:e}=t();return e}}const Zn=Jn();function er(e=Jt){const t=e===Jt?Zn:Jn(e);return function(){return t().dispatch}}const tr=er();var nr;function rr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function or(e){return!!e&&!!e[Wr]}function ir(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Vr}(e)||Array.isArray(e)||!!e[qr]||!!(null===(t=e.constructor)||void 0===t?void 0:t[qr])||dr(e)||fr(e))}function sr(e,t,n){void 0===n&&(n=!1),0===ar(e)?(n?Object.keys:$r)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function ar(e){var t=e[Wr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:dr(e)?2:fr(e)?3:0}function cr(e,t){return 2===ar(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function lr(e,t,n){var r=ar(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function ur(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function dr(e){return Dr&&e instanceof Map}function fr(e){return Br&&e instanceof Set}function hr(e){return e.o||e.t}function pr(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Xr(e);delete t[Wr];for(var n=$r(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function vr(e,t){return void 0===t&&(t=!1),_r(e)||or(e)||!ir(e)||(ar(e)>1&&(e.set=e.add=e.clear=e.delete=mr),Object.freeze(e),t&&sr(e,(function(e,t){return vr(t,!0)}),!0)),e}function mr(){rr(2)}function _r(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function br(e){var t=Kr[e];return t||rr(18,e),t}function yr(){return Ir}function gr(e,t){t&&(br("Patches"),e.u=[],e.s=[],e.v=t)}function wr(e){kr(e),e.p.forEach(Sr),e.p=null}function kr(e){e===Ir&&(Ir=e.l)}function xr(e){return Ir={p:[],l:Ir,h:e,m:!0,_:0}}function Sr(e){var t=e[Wr];0===t.i||1===t.i?t.j():t.g=!0}function Cr(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||br("ES5").S(t,e,r),r?(n[Wr].P&&(wr(t),rr(4)),ir(e)&&(e=Pr(t,e),t.l||Or(t,e)),t.u&&br("Patches").M(n[Wr].t,e,t.u,t.s)):e=Pr(t,n,[]),wr(t),t.u&&t.v(t.u,t.s),e!==Fr?e:void 0}function Pr(e,t,n){if(_r(t))return t;var r=t[Wr];if(!r)return sr(t,(function(o,i){return Er(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Or(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=pr(r.k):r.o,i=o,s=!1;3===r.i&&(i=new Set(o),o.clear(),s=!0),sr(i,(function(t,i){return Er(e,r,o,t,i,n,s)})),Or(e,o,!1),n&&e.u&&br("Patches").N(r,n,e.u,e.s)}return r.o}function Er(e,t,n,r,o,i,s){if(or(o)){var a=Pr(e,o,i&&t&&3!==t.i&&!cr(t.R,r)?i.concat(r):void 0);if(lr(n,r,a),!or(a))return;e.m=!1}else s&&n.add(o);if(ir(o)&&!_r(o)){if(!e.h.D&&e._<1)return;Pr(e,o),t&&t.A.l||Or(e,o)}}function Or(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&vr(t,n)}function jr(e,t){var n=e[Wr];return(n?hr(n):e)[t]}function Ar(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Mr(e){e.P||(e.P=!0,e.l&&Mr(e.l))}function Tr(e){e.o||(e.o=pr(e.t))}function Rr(e,t,n){var r=dr(t)?br("MapSet").F(t,n):fr(t)?br("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:yr(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=Gr;n&&(o=[r],i=Yr);var s=Proxy.revocable(o,i),a=s.revoke,c=s.proxy;return r.k=c,r.j=a,c}(t,n):br("ES5").J(t,n);return(n?n.A:yr()).p.push(r),r}function zr(e){return or(e)||rr(22,e),function e(t){if(!ir(t))return t;var n,r=t[Wr],o=ar(t);if(r){if(!r.P&&(r.i<4||!br("ES5").K(r)))return r.t;r.I=!0,n=Nr(t,o),r.I=!1}else n=Nr(t,o);return sr(n,(function(t,o){r&&function(e,t){return 2===ar(e)?e.get(t):e[t]}(r.t,t)===o||lr(n,t,e(o))})),3===o?new Set(n):n}(e)}function Nr(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return pr(e)}nr=$t.useSyncExternalStoreWithSelector,tn=nr,Xt=pt;var Ur,Ir,Lr="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Dr="undefined"!=typeof Map,Br="undefined"!=typeof Set,Hr="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Fr=Lr?Symbol.for("immer-nothing"):((Ur={})["immer-nothing"]=!0,Ur),qr=Lr?Symbol.for("immer-draftable"):"__$immer_draftable",Wr=Lr?Symbol.for("immer-state"):"__$immer_state",Vr=""+Object.prototype.constructor,$r="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Xr=Object.getOwnPropertyDescriptors||function(e){var t={};return $r(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Kr={},Gr={get:function(e,t){if(t===Wr)return e;var n,r,o,i=hr(e);if(!cr(i,t))return n=e,(o=Ar(i,t))?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(n.k):void 0;var s=i[t];return e.I||!ir(s)?s:s===jr(e.t,t)?(Tr(e),e.o[t]=Rr(e.A.h,s,e)):s},has:function(e,t){return t in hr(e)},ownKeys:function(e){return Reflect.ownKeys(hr(e))},set:function(e,t,n){var r=Ar(hr(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=jr(hr(e),t),i=null==o?void 0:o[Wr];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(ur(n,o)&&(void 0!==n||cr(e.t,t)))return!0;Tr(e),Mr(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==jr(e.t,t)||t in e.t?(e.R[t]=!1,Tr(e),Mr(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=hr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){rr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){rr(12)}},Yr={};sr(Gr,(function(e,t){Yr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Yr.deleteProperty=function(e,t){return Yr.set.call(this,e,t,void 0)},Yr.set=function(e,t,n){return Gr.set.call(this,e[0],t,n,e[0])};var Qr=function(){function e(e){var t=this;this.O=Hr,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&rr(6),void 0!==r&&"function"!=typeof r&&rr(7),ir(e)){var a=xr(t),c=Rr(t,e,void 0),l=!0;try{s=n(c),l=!1}finally{l?wr(a):kr(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return gr(a,r),Cr(e,a)}),(function(e){throw wr(a),e})):(gr(a,r),Cr(s,a))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===Fr&&(s=void 0),t.D&&vr(s,!0),r){var u=[],d=[];br("Patches").M(e,s,u,d),r(u,d)}return s}rr(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){ir(e)||rr(8),or(e)&&(e=zr(e));var t=xr(this),n=Rr(this,e,void 0);return n[Wr].C=!0,kr(t),n},t.finishDraft=function(e,t){var n=(e&&e[Wr]).A;return gr(n,t),Cr(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Hr&&rr(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=br("Patches").$;return or(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),Jr=new Qr,Zr=Jr.produce;function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e){var t=function(e,t){if("object"!==eo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==eo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===eo(t)?t:String(t)}function no(e,t,n){return(t=to(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(n),!0).forEach((function(t){no(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function io(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}Jr.produceWithPatches.bind(Jr),Jr.setAutoFreeze.bind(Jr),Jr.setUseProxies.bind(Jr),Jr.applyPatches.bind(Jr),Jr.createDraft.bind(Jr),Jr.finishDraft.bind(Jr);var so="function"==typeof Symbol&&Symbol.observable||"@@observable",ao=function(){return Math.random().toString(36).substring(7).split("").join(".")},co={INIT:"@@redux/INIT"+ao(),REPLACE:"@@redux/REPLACE"+ao(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ao()}};function lo(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(io(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(io(1));return n(lo)(e,t)}if("function"!=typeof e)throw new Error(io(2));var o=e,i=t,s=[],a=s,c=!1;function l(){a===s&&(a=s.slice())}function u(){if(c)throw new Error(io(3));return i}function d(e){if("function"!=typeof e)throw new Error(io(4));if(c)throw new Error(io(5));var t=!0;return l(),a.push(e),function(){if(t){if(c)throw new Error(io(6));t=!1,l();var n=a.indexOf(e);a.splice(n,1),s=null}}}function f(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(io(7));if(void 0===e.type)throw new Error(io(8));if(c)throw new Error(io(9));try{c=!0,i=o(i,e)}finally{c=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:co.INIT}),(r={dispatch:f,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(io(10));o=e,f({type:co.REPLACE})}})[so]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(io(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[so]=function(){return this},e},r}function uo(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var i,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:co.INIT}))throw new Error(io(12));if(void 0===n(void 0,{type:co.PROBE_UNKNOWN_ACTION()}))throw new Error(io(13))}))}(n)}catch(a){i=a}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},a=0;a<s.length;a++){var c=s[a],l=n[c],u=e[c],d=l(u,t);if(void 0===d)throw t&&t.type,new Error(io(14));o[c]=d,r=r||d!==u}return(r=r||s.length!==Object.keys(e).length)?o:e}}function fo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ho(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(io(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=fo.apply(void 0,i)(n.dispatch),oo(oo({},n),{},{dispatch:r})}}}function po(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var vo=po();vo.withExtraArgument=po;const mo=vo;var _o=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bo=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},yo=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},go=Object.defineProperty,wo=Object.defineProperties,ko=Object.getOwnPropertyDescriptors,xo=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,Co=Object.prototype.propertyIsEnumerable,Po=function(e,t,n){return t in e?go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Eo=function(e,t){for(var n in t||(t={}))So.call(t,n)&&Po(e,n,t[n]);if(xo)for(var r=0,o=xo(t);r<o.length;r++){n=o[r];Co.call(t,n)&&Po(e,n,t[n])}return e},Oo=function(e,t){return wo(e,ko(t))},jo="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?fo:fo.apply(null,arguments)};function Ao(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Eo(Eo({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}var Mo=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return _o(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,yo([void 0],e[0].concat(this)))):new(t.bind.apply(t,yo([void 0],e.concat(this))))},t}(Array),To=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.apply(this,n)||this;return Object.setPrototypeOf(o,t.prototype),o}return _o(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,yo([void 0],e[0].concat(this)))):new(t.bind.apply(t,yo([void 0],e.concat(this))))},t}(Array);function Ro(e){return ir(e)?Zr(e,(function(){})):e}function zo(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new Mo;n&&("boolean"==typeof n?r.push(mo):r.push(mo.withExtraArgument(n.extraArgument)));return r}(e)}}var No=!0;function Uo(e){var t,n=zo(),r=e||{},o=r.reducer,i=void 0===o?void 0:o,s=r.middleware,a=void 0===s?n():s,c=r.devTools,l=void 0===c||c,u=r.preloadedState,d=void 0===u?void 0:u,f=r.enhancers,h=void 0===f?void 0:f;if("function"==typeof i)t=i;else{if(!function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=uo(i)}var p=a;"function"==typeof p&&(p=p(n));var v=ho.apply(void 0,p),m=fo;l&&(m=jo(Eo({trace:!No},"object"==typeof l&&l)));var _=new To(v),b=_;return Array.isArray(h)?b=yo([v],h):"function"==typeof h&&(b=h(_)),lo(t,d,m.apply(void 0,b))}function Io(e){var t,n={},r=[],o={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(!r)throw new Error("`builder.addCase` cannot be called with an empty action type");if(r in n)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return n[r]=t,o},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),o},addDefaultCase:function(e){return t=e,o}};return e(o),[n,r,t]}function Lo(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Ro(e.initialState),o=e.reducers||{},i=Object.keys(o),s={},a={},c={};function l(){var t="function"==typeof e.extraReducers?Io(e.extraReducers):[e.extraReducers],n=t[0],o=void 0===n?{}:n,i=t[1],s=void 0===i?[]:i,c=t[2],l=void 0===c?void 0:c,u=Eo(Eo({},o),a);return function(e,t,n,r){void 0===n&&(n=[]);var o,i="function"==typeof t?Io(t):[t,n,r],s=i[0],a=i[1],c=i[2];if("function"==typeof e)o=function(){return Ro(e())};else{var l=Ro(e);o=function(){return l}}function u(e,t){void 0===e&&(e=o());var n=yo([s[t.type]],a.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var r;if(or(e))return void 0===(r=n(e,t))?e:r;if(ir(e))return Zr(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return u.getInitialState=o,u}(r,(function(e){for(var t in u)e.addCase(t,u[t]);for(var n=0,r=s;n<r.length;n++){var o=r[n];e.addMatcher(o.matcher,o.reducer)}l&&e.addDefaultCase(l)}))}return i.forEach((function(e){var n,r,i=o[e],l=t+"/"+e;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,s[e]=n,a[l]=n,c[e]=r?Ao(l,r):Ao(l)})),{name:t,reducer:function(e,t){return n||(n=l()),n(e,t)},actions:c,caseReducers:s,getInitialState:function(){return n||(n=l()),n.getInitialState()}}}var Do=["name","message","stack","code"],Bo=function(){return function(e,t){this.payload=e,this.meta=t}}(),Ho=function(){return function(e,t){this.payload=e,this.meta=t}}(),Fo=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,r=Do;n<r.length;n++){var o=r[n];"string"==typeof e[o]&&(t[o]=e[o])}return t}return{message:String(e)}},qo=function(){function e(e,t,n){var r=Ao(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Oo(Eo({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),o=Ao(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Oo(Eo({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),i=Ao(e+"/rejected",(function(e,t,r,o,i){return{payload:o,error:(n&&n.serializeError||Fo)(e||"Rejected"),meta:Oo(Eo({},i||{}),{arg:r,requestId:t,rejectedWithValue:!!o,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),s="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(a,c,l){var u,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t}(),f=new s;function h(e){u=e,f.abort()}var p=function(){return s=this,p=null,v=function(){var s,p,v,m,_,b;return bo(this,(function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),m=null==(s=null==n?void 0:n.condition)?void 0:s.call(n,e,{getState:c,extra:l}),null===(g=m)||"object"!=typeof g||"function"!=typeof g.then?[3,2]:[4,m];case 1:m=y.sent(),y.label=2;case 2:if(!1===m||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return _=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),a(o(d,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:d,arg:e},{getState:c,extra:l}))),[4,Promise.race([_,Promise.resolve(t(e,{dispatch:a,getState:c,extra:l,requestId:d,signal:f.signal,abort:h,rejectWithValue:function(e,t){return new Bo(e,t)},fulfillWithValue:function(e,t){return new Ho(e,t)}})).then((function(t){if(t instanceof Bo)throw t;return t instanceof Ho?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return v=y.sent(),[3,5];case 4:return b=y.sent(),v=b instanceof Bo?i(null,d,e,b.payload,b.meta):i(b,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&i.match(v)&&v.meta.condition||a(v),[2,v]}var g}))},new Promise((function(e,t){var n=function(e){try{o(v.next(e))}catch(n){t(n)}},r=function(e){try{o(v.throw(e))}catch(n){t(n)}},o=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(n,r)};o((v=v.apply(s,p)).next())}));var s,p,v}();return Object.assign(p,{abort:h,requestId:d,arg:e,unwrap:function(){return p.then(Wo)}})}}),{pending:o,rejected:i,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function Wo(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Vo="listenerMiddleware";Ao(Vo+"/add"),Ao(Vo+"/removeAll"),Ao(Vo+"/remove"),"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:"undefined"!=typeof global?global:globalThis),function(){function e(e,t){var n=s[e];return n?n.enumerable=t:s[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Wr];return Gr.get(t,e)},set:function(t){var n=this[Wr];Gr.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var o=e[t][Wr];if(!o.P)switch(o.i){case 5:r(o)&&Mr(o);break;case 4:n(o)&&Mr(o)}}}function n(e){for(var t=e.t,n=e.k,r=$r(n),o=r.length-1;o>=0;o--){var i=r[o];if(i!==Wr){var s=t[i];if(void 0===s&&!cr(t,i))return!0;var a=n[i],c=a&&a[Wr];if(c?c.t!==s:!ur(a,s))return!0}}var l=!!t[Wr];return r.length!==$r(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var o,i,s={};i={J:function(t,n){var r=Array.isArray(t),o=function(t,n){if(t){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,e(o,!0));return r}var i=Xr(n);delete i[Wr];for(var s=$r(i),a=0;a<s.length;a++){var c=s[a];i[c]=e(c,t||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,t),i={i:r?5:4,A:n?n.A:yr(),P:!1,I:!1,R:{},l:n,t:t,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,Wr,{value:i,writable:!0}),o},S:function(e,n,o){o?or(n)&&n[Wr].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Wr];if(n){var o=n.t,i=n.k,s=n.R,a=n.i;if(4===a)sr(i,(function(t){t!==Wr&&(void 0!==o[t]||cr(o,t)?s[t]||e(i[t]):(s[t]=!0,Mr(n)))})),sr(o,(function(e){void 0!==i[e]||cr(i,e)||(s[e]=!1,Mr(n))}));else if(5===a){if(r(n)&&(Mr(n),s.length=!0),i.length<o.length)for(var c=i.length;c<o.length;c++)s[c]=!1;else for(var l=o.length;l<i.length;l++)s[l]=!0;for(var u=Math.min(i.length,o.length),d=0;d<u;d++)i.hasOwnProperty(d)||(s[d]=!0),void 0===s[d]&&e(i[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}},Kr[o="ES5"]||(Kr[o]=i)}();class $o{constructor(){t(this,"length",0),t(this,"storage",{})}setItem(e,t){this.storage[e]=t,this.length=Object.keys(this.storage).length}getItem(e){const t=this.storage[e];return void 0===t?null:t}removeItem(e){delete this.storage[e],this.length=Object.keys(this.storage).length}key(e){const t=Object.keys(this.storage);return void 0===t[e]?null:t[e]}clear(){this.length=0,this.storage={}}}const Xo=new class{constructor(e,n){t(this,"backend"),t(this,"length"),t(this,"prefix"),this.prefix=n;try{this.backend=e||localStorage,this.testBackend()}catch(r){this.backend=new $o}this.length=this.backend.length,"function"==typeof this.backend.sync&&(this.sync=e=>{this.backend.sync(e)})}testBackend(){const e=this.prefix+".test.record";this.backend.setItem(e,"123");const t=this.backend.getItem(e);this.backend.removeItem(e);if(!("123"===t&&null===this.backend.getItem(e)))throw new Error("Storage backend is not working properly")}setLocalStoragePrefix(e){this.prefix=e}clear(){if(!this.backend.length)return;const e=[];for(let t=0;t<this.backend.length;++t){const n=this.backend.key(t);n&&n.startsWith(this.prefix)&&e.push(n)}for(const t of e)this.backend.removeItem(t);this.length=this.backend.length}key(e){return this.backend.key(e)}setItem(e,t){if(!t||void 0===t.length||0===t.length)return void this.writeStringToKey(e,"");let n=0;for(;n<t.length;){let r=t.substr(n,1024);n+=r.length,n<t.length&&(r+="@"),this.writeStringToKey(e,r),e+="."}}getItem(e){let t=this.readStringFromKey(e);if(null===t)return null;if(0===t.length)return t;for(;"@"===t[t.length-1];){t=t.substr(0,t.length-1),e+=".";const n=this.readStringFromKey(e);t+=null===n?"":n}return t}removeItem(e){this.backend.removeItem(this.prefix+e),this.length=this.backend.length}writeStringToKey(e,t){this.backend.setItem(this.prefix+e,t),this.length=this.backend.length}readStringFromKey(e){return this.backend.getItem(this.prefix+e)}}(void 0,"jsdos.8.");class Ko{constructor(){t(this,"owner","")}close(){}put(e,t){return Promise.resolve()}get(e,t){return void 0!==t?Promise.resolve(t):Promise.reject(new Error("Cache is not supported on this host"))}del(e){return Promise.resolve()}keys(){return Promise.resolve([])}forEach(e){return Promise.resolve()}}class Go{constructor(e,n,r){if(t(this,"owner"),t(this,"storeName","files"),t(this,"indexedDB"),t(this,"db",null),this.owner=e,this.indexedDB="undefined"==typeof window?void 0:window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,this.indexedDB)try{const t=this.indexedDB.open("js-dos-cache ("+e+")",1);t.onerror=e=>{var n;r("Can't open cache database: "+(null==(n=t.error)?void 0:n.message))},t.onsuccess=e=>{this.db=t.result,n(this)},t.onupgradeneeded=e=>{try{this.db=t.result,this.db.onerror=e=>{r("Can't upgrade cache database")};this.db.createObjectStore(this.storeName).createIndex("key","",{unique:!0,multiEntry:!1})}catch(n){r("Can't upgrade cache database")}}}catch(o){r("Can't open cache database: "+o.message)}else r("Indexed db is not supported on this host")}close(){null!==this.db&&(this.db.close(),this.db=null)}put(e,t){return new Promise(((n,r)=>{if(null===this.db)return void n();const o=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(t.buffer,e);o.onerror=()=>r,o.onsuccess=()=>n()}))}del(e){return new Promise(((t,n)=>{if(null===this.db)return void t();const r=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(e);r.onerror=()=>n,r.onsuccess=()=>t()}))}get(e,t){return new Promise(((n,r)=>{function o(e){void 0===t?r(new Error(e)):n(t)}if(null===this.db)return void o("db is not initalized");const i=this.db.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);i.onerror=()=>r(new Error("Can't read value for key '"+e+"'")),i.onsuccess=()=>{i.result?n(new Uint8Array(i.result)):o("Result is empty for key '"+e+"', result: "+i.result)}}))}keys(){return new Promise(((e,t)=>{if(null===this.db)return void e([]);const n=this.db.transaction(this.storeName,"readonly").objectStore(this.storeName).index("key").getAllKeys();n.onerror=()=>t,n.onsuccess=t=>{const n=t.target.result;e(n)}}))}forEach(e){return new Promise(((t,n)=>{if(null===this.db)return void t();const r=this.db.transaction(this.storeName,"readonly").objectStore(this.storeName).openCursor();r.onerror=()=>n,r.onsuccess=n=>{const r=n.target.result;r?(e(r.key.toString(),new Uint8Array(r.value)),r.continue()):t()}}))}}function Yo(e){return new Promise((t=>{new Go(e,t,(e=>{console.error("Can't open IndexedDB cache",e),t(new Ko)}))}))}const Qo={root:null,dispatch:null,loadedBundle:null,ci:null,cache:new Ko,options:{}},Jo=(e,t)=>{Qo.options.onEvent&&setTimeout((()=>{var n,r;null==(r=(n=Qo.options).onEvent)||r.call(n,e,t)}),4)},Zo=["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter"],ei=Lo({name:"js-dos v8s",initialState:{modal:"none",frame:"none",frameXs:!1,window:"none",theme:Xo.getItem("theme")??"dark",editor:!1,wideScreen:!0,fullScreen:!1,toast:null,toastIntent:"none",toastTimeoutId:0,background:null,readOnlyWarning:!1,cloudSaves:!0},reducers:{theme:(e,t)=>{Xo.setItem("theme",t.payload),e.theme=t.payload},modalLogin:e=>{e.modal="login"},modalNone:e=>{e.modal="none"},frameNone:e=>{e.frame="none",e.frameXs=!1},frameAccount:e=>{!function(e,t){e.frame===t?e.frame="none":e.frame=t}(e,"account"),e.frameXs=!1},frameSettings:e=>{e.frame="settings",e.frameXs=!1},frameNetwork:e=>{e.frame="network",e.frameXs=!1},frameStats:e=>{e.frame="stats",e.frameXs=!1},frameConf:e=>{e.frame="editor-conf",e.frameXs=!1},frameFs:e=>{e.frame="editor-fs",e.frameXs=!1},frameHostCache:e=>{e.frame="host-cache",e.frameXs=!1},frameQuickSave:e=>{e.frame="quick-save",e.frameXs=!0},frameImageRendering:e=>{e.frame="image-rendering",e.frameXs=!1},windowSelect:e=>{e.window="select"},background:(e,t)=>{e.background=t.payload},setEditor:(e,t)=>{e.editor=t.payload},setWideScreen:(e,t)=>{e.wideScreen=t.payload},setFullScreen:(e,t)=>{e.fullScreen=t.payload},showToast:(e,t)=>{0!==e.toastTimeoutId&&clearInterval(e.toastTimeoutId),e.toast=t.payload.message,e.toastIntent=t.payload.intent??"none","panic"!==t.payload.intent&&(e.toastTimeoutId=setTimeout((()=>{Qo.dispatch(ei.actions.hideToast())}),1500))},hideToast:e=>{e.toast=null,e.toastTimeoutId=0},readOnlyWarning:(e,t)=>{e.readOnlyWarning=t.payload},cloudSaves:(e,t)=>{e.cloudSaves=t.payload}},extraReducers:e=>{e.addCase(Ao("dos/bndLoad"),((e,t)=>{e.window="loading"})).addCase(Ao("editor/extract"),((e,t)=>{e.window="loading"})).addCase(Ao("editor/ready"),((e,t)=>{e.window="prerun"})).addCase(Ao("dos/bndReady"),((e,t)=>{e.window="prerun"})).addCase(Ao("dos/bndPlay"),((e,t)=>{e.window="run",e.frame="none"})).addMatcher((e=>e.type.startsWith("dos/")&&e.type.endsWith("Error")),((e,t)=>{e.window="error"}))}});function ti(e,t){t(null===e?ei.actions.modalLogin():ei.actions.frameAccount())}var ni=0;function ri(e,t,n,o,i,s){var a,c,l={};for(c in t)"ref"==c?a=t[c]:l[c]=t[c];var u={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ni,__i:-1,__u:0,__source:i,__self:s};if("function"==typeof e&&(a=e.defaultProps))for(c in a)void 0===l[c]&&(l[c]=a[c]);return r.vnode&&r.vnode(u),u}function oi(e){return ri("div",{class:"text-gray-400 hover:text-gray-600 btn "+e.class,onClick:e.onClose,children:ri("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}const ii="https://v8.js-dos.com/auth/",si="doszone-uploads",ai="https://storage.yandexcloud.net",ci="dzapi",li="https://d5dn8hh4ivlobv6682ep.apigw.yandexcloud.net/presign-put",ui="https://subscriptions.xsolla.comâ€‹/api/user/v1/projects/184012/subscriptions",di="sumOxNVr",fi="https://br.cdn.dos.zone",hi={en:"https://v8.js-dos.com/cancel-your-subscription/",ru:"https://v8.js-dos.com/ru/cancel-your-subscription/"},pi="cached.account",vi=(()=>{const e=new URLSearchParams(location.search).get("jsdos_token");if(null!==e)return bi(e),history.replaceState(null,"",location.href.substring(0,location.href.indexOf("?"))),null;{const e=Xo.getItem(pi),t=null!==e?JSON.parse(e):null;return null!==t&&t.token.validUntilMs-Date.now()>36e5?t:null}})(),mi=Lo({name:"auth",initialState:{account:vi,ready:null!==vi},reducers:{login:(e,t)=>{bi(t.payload.token.refresh_token),e.account=t.payload,e.account.premium=e.account.premium||"dz.caiiiycuk@gmail.com"===e.account.email||"caiiiycuk@gmail.com"===e.account.email,Xo.setItem(pi,JSON.stringify(t.payload)),Yo(e.account.email).then((e=>Qo.cache=e)).catch(console.error).finally((()=>{Qo.dispatch(mi.actions.ready())}))},logout:e=>{yi(),Xo.removeItem(pi),Yo("guest").then((e=>Qo.cache=e)).catch(console.error),e.account=null},ready:e=>{e.ready=!0}}});function _i(e){var t;const n={action:e,refresh_token:"auth/authenicate"===e?Xo.getItem("cached.rt"):void 0,url:"auth/login"===e?location.href:void 0};null==(t=document.querySelector("#authentificator").contentWindow)||t.postMessage(n,"*")}function bi(e){if(null!==e)return Xo.setItem("cached.rt",e);yi()}function yi(){Xo.removeItem("cached.rt")}function gi(){const e=le(null),t=on((e=>e.auth.account)),n="login"===on((e=>e.ui.modal)),r=tr();return ae((()=>{if(null!=t)return;const n=e.current;if(null===n)return r(mi.actions.logout()),r(mi.actions.ready()),void console.error("Unable to inialize authentificator!");async function o(e){if("auth/ready"===e.data.action)_i("auth/authenicate");else if("auth/authenicate"===e.data.action){const n=e.data.account;if(null!==n){try{n.premium=await async function(e){const t=await fetch(ui,{method:"GET",cache:"no-cache",headers:{Authorization:"Bearer "+e}}),n=await t.json();return void 0===n.items?(console.error("Unexpected subscriptions response:",n),!1):n.items.length>0&&n.items[0].plan_external_id===di}(n.token.access_token)}catch(t){console.error(t),n.premium=!1}r(mi.actions.login(e.data.account))}else r(mi.actions.logout()),r(mi.actions.ready())}}return window.addEventListener("message",o),n.src=ii,()=>{window.removeEventListener("message",o)}}),[]),ae((()=>{null!==e.current&&_i("auth/login")}),[n]),ri("div",{id:"login",class:"login-widget "+(n?"block":"hidden"),children:[ri("iframe",{id:"authentificator",ref:e}),ri(oi,{class:"absolute z-40 right-24 top-10",onClose:()=>r(ei.actions.modalNone())})]})}const wi={ru:{logout:"Ð’Ñ‹Ð¹Ñ‚Ð¸",please_login:"Ð’Ð¾Ð¹Ð´Ð¸Ñ‚Ðµ Ð² Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚",features:"Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸",premium:"ÐŸÑ€ÐµÐ¼Ð¸ÑƒÐ¼",buy:"ÐšÑƒÐ¿Ð¸Ñ‚ÑŒ",experimental_features:"Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐºÑÐ¿ÐµÑ€Ð¸ÐµÐ½Ñ‚Ð°Ð»ÑŒÐ½Ñ‹Ð¼ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÐ¼",cloud_saves:"ÐžÐ±Ð»Ð°Ñ‡Ð½Ñ‹Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ",writeable_fat32:"FAT32 Ð´Ð¸ÑÐºÐ¸",net_no_limits:"Ð’Ñ‹Ð±Ð¾Ñ€ ÑÐµÑ€Ð²ÐµÑ€Ð° Ð´Ð»Ñ ÑÑ‚ÐµÐ²Ð¾Ð¹ Ð¸Ð³Ñ€Ñ‹",unlock_options:"Ð”Ð¾ÑÑ‚ÑƒÐ¿ ÐºÐ¾ Ð²ÑÐµÐ¼ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ð¼",error:"Ð£Ð¿Ñ... Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð¿Ð¾ÑˆÐ»Ð¾ Ð½Ðµ Ñ‚Ð°Ðº...",consult_logs:"ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð°",bundle_loading:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð±Ð°Ð½Ð´Ð»Ð°",bundle_config:"Ð§Ñ‚ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸",try_free:"Ð´Ð½ÐµÐ¹ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾",upload_file:"Ð’Ñ‹Ð±Ð¸Ñ€Ð¸Ñ‚Ðµ Ð°Ñ€Ñ…Ð¸Ð² jsdos/zip Ñ‡Ñ‚Ð¾ Ð±Ñ‹ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ...",emulation_backend:"Ð­Ð¼ÑƒÐ»ÑÑ†Ð¸Ñ",render_backend:"Ð ÐµÐ½Ð´ÐµÑ€",render_aspect:"Ð¡Ð¾Ð¾Ñ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ðµ ÑÑ‚Ð¾Ñ€Ð¾Ð½",worker:"Ð¤Ð¾Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ñ‚Ð¾Ðº",mouse_sensitivity:"Ð§ÑƒÐ²ÑÑ‚. Ð¼Ñ‹ÑˆÐ¸",mouse_lock:"Ð—Ð°Ñ…Ð²Ð°Ñ‚ Ð¼Ñ‹ÑˆÐ¸",volume:"Ð“Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚ÑŒ",pause:"ÐŸÐ°ÑƒÐ·Ð°",dosboxconf_template:"dosbox.conf ÑˆÐ°Ð±Ð»Ð¾Ð½:",preview:"ÐŸÑ€ÐµÐ²ÑŒÑŽ",continue:"ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ",skip:"ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ",loading:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°",extract_loading:"Ð Ð°ÑÐ¿Ð°ÐºÐ¾Ð²ÐºÐ° Ð°Ñ€Ñ…Ð¸Ð²Ð°",extract_long_time:"ÐœÐ¾Ð¶ÐµÑ‚ Ð·Ð°Ð½ÑÑ‚ÑŒ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð° Ð¶Ð´Ð¸Ñ‚Ðµ...",theme:"Ð¢ÐµÐ¼Ð°",create_empty:"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿ÑƒÑÑ‚Ð¾Ð¹ Ð±Ð°Ð½Ð´Ð»",uploading_file:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ñ„Ð°Ð¹Ð»Ð°",fs_restart:"Ð’Ñ‹ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ð¿ÐµÑ€ÐµÑÐ¾Ð±Ñ€Ð°Ñ‚ÑŒ Ð±Ð°Ð½Ð´Ð» Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑ ÑÑ‚Ñƒ FS?",please_wait:"ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð° Ð¿Ð¾Ð´Ð¾Ð¶Ð´Ð¸Ñ‚Ðµ",making_bundle:"Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð±Ð°Ð½Ð´Ð»",size:"Ð Ð°Ð·Ð¼ÐµÑ€",room:"ÐšÐ¾Ð¼Ð°Ð½Ñ‚Ð°",server:"Ð¡ÐµÑ€Ð²ÐµÑ€",load_by_url:"Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ",enter_url:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÑÑ‹Ð»ÐºÑƒ",load:"Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ",stored:"Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ðµ",delete:"Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ",editor:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€",download:"Ð¡ÐºÐ°Ñ‡Ð°Ñ‚ÑŒ",changes:"Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ",account_not_ready:"ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÑƒ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ð¹",loading_saves:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ð¹",success:"Ð£ÑÐ¿ÐµÑˆÐ½Ð¾",unable_to_save:"ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð¿Ð¸ÑÐ¸",not_premium:"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¿Ñ€ÐµÐ¼Ð¸ÑƒÐ¼",copy_net_link:"ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ ÑÑÑ‹Ð»ÐºÑƒ Ð½Ð° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ",copied:"Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾",image_rendering:"ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ",read_only_access:"Ð”Ð¸ÑÐº FAT32 Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ",fix:"Ð˜ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ",close:"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",cancle:"ÐžÑ‚ÐºÐ°Ð·Ð°Ñ‚ÑŒÑÑ",manage:"Ð£Ð¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ",unable_to_cancle_subscription:"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¾Ñ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐºÑƒ",subscription_cancelled:"ÐŸÐ¾Ð´Ð¿Ð¸ÑÐºÐ° Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½Ð°",hardware:"ÐÐ¿Ð¿Ð°Ñ€Ð°Ñ‚Ð½Ð¾Ðµ ÑƒÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ"},en:{logout:"Logout",please_login:"Please login",features:"Features",premium:"Premium",buy:"Buy",experimental_features:"Access to all experimental features",cloud_saves:"Cloud saves",writeable_fat32:"Writable FAT32",net_no_limits:"Change the network region",unlock_options:"Unlock all configuration options",error:"Oops... Something went wrong...",consult_logs:"Please check browser logs",bundle_loading:"Bundle loading",bundle_config:"Reading config",try_free:"days for free",upload_file:"Select jsdos/zip file to start...",emulation_backend:"Emulation",render_backend:"Render",render_aspect:"Aspect",worker:"Worker thread",mouse_sensitivity:"Mouse sens...",mouse_lock:"Capture mouse",volume:"Volume",pause:"Pause",dosboxconf_template:"dosbox.conf template:",preview:"Preview",continue:"Continue",skip:"Skip",loading:"Loading",extract_loading:"Unpacking archive",extract_long_time:"Can take long time, please be patient...",theme:"Theme",create_empty:"Create empty bundle",uploading_file:"Uploading file",fs_restart:"Do you want to rebuild the bundle using this fs?",please_wait:"Please wait",making_bundle:"Creating bundle",size:"Size",room:"Room",server:"Server",load_by_url:"Load by url",enter_url:"Enter url",load:"Load",stored:"Stored",delete:"Delete",editor:"Editor",download:"Download",changes:"Saves",account_not_ready:"Skip loading saves",loading_saves:"Loading saves",success:"Success",unable_to_save:"Unable to save",not_premium:"Subscribe to premium",copy_net_link:"Share this link to connect",copied:"Copied",image_rendering:"Image rendering",read_only_access:"The FAT32 drive is open in read-only mode",fix:"Fix",close:"Close",cancle:"Cancle",manage:"Manage",unable_to_cancle_subscription:"Unable to cancle subscription",subscription_cancelled:"Subscription cancelled",hardware:"Hardware acceleration"}},ki=navigator.language.startsWith("ru")?"ru":"en",xi=Lo({name:"i18n",initialState:{lang:ki,keys:wi[ki]},reducers:{setLang:(e,t)=>{e.lang=t.payload,e.keys=wi[t.payload]}}});function Si(){const e=on((e=>e.i18n.keys));return t=>e[t]??t}function Ci(e){const t=Si(),n=on((e=>e.auth.account)),r=tr();if(null===n)return null;return ri("div",{class:"account-frame frame-root items-center",children:[null!==n.picture&&ri("img",{class:"account-img",src:n.picture}),ri("div",{children:n.name??n.email}),null!==n.name&&ri("div",{class:"account-email",children:n.email}),ri("button",{class:"btn mt-8",onClick:function(){r(mi.actions.logout()),r(ei.actions.frameNone())},children:t("logout")}),ri("div",{class:"mt-8 mb-4 text-2xl",children:t("features")}),ri(Pi,{})]})}function Pi(e){const t=Si(),n=on((e=>e.i18n.lang)),r=on((e=>e.auth.account)),[o,i]=ie(!1),s=tr();if(null===r)return null;const a=r.token.access_token;return ri("div",{class:"premium-plan-root "+(r.premium?"have-premium":""),children:[ri("div",{class:"premium-plan-head flex",children:[ri(Ei,{}),t("premium"),ri("div",{class:"flex-grow"}),r.premium&&ri("button",{onClick:async function(){const e=()=>{s(ei.actions.showToast({message:t("unable_to_cancle_subscription"),intent:"error"})),window.open(hi[n]??hi.en,"_blank")};if(r)try{await async function(e){const t=await fetch(ui+"/"+di+"/cancel",{method:"PUT",cache:"no-cache",headers:{Authorization:"Bearer "+e}}),n=await t.json();return!n.error||(console.error("Unexpected subscriptions response:",n),!1)}(r.token.access_token)?s(ei.actions.showToast({message:t("subscription_cancelled"),intent:"success"})):e()}catch(o){e()}else e()},class:"ml-2 btn btn-ghost btn-xs text-success-content",children:t("cancle")})]}),!r.premium&&ri(y,{children:[ri("div",{class:"flex flex-row my-6 items-top",children:[ri("div",{class:"premium-plan-cost",children:"$3"}),ri("div",{class:"premium-plan-cost-expl",children:[ri("div",{children:"USD / mo"}),ri("div",{children:[ri("span",{class:"text-blue-600",children:"5"})," ",t("try_free")]})]})]}),ri("button",{class:"btn btn-primary w-full "+(o?"hidden":""),onClick:function(){o||(i(!0),async function(e){const t=await fetch(ui+"/buy",{method:"POST",cache:"no-cache",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"},body:JSON.stringify({plan_external_id:di})}),n=await t.json();return void 0===n.link_to_ps?(console.error("Unexpected subscriptions response:",n),null):n.link_to_ps}(a).then((e=>{null!==e&&window.open(e,"_blank")})).catch(console.error).finally((()=>i(!1))))},children:t("buy")})]}),ri("div",{class:"flex flex-col mt-4",children:[ri("div",{class:"premium-plan-highlight",children:[ri(Ei,{}),ri("div",{children:t("cloud_saves")})]}),ri("div",{class:"premium-plan-highlight",children:[ri(Ei,{}),ri("div",{children:t("experimental_features")})]}),ri("div",{class:"premium-plan-highlight",children:[ri(Ei,{}),ri("div",{children:t("writeable_fat32")}),ri("div",{class:"flex-grow"}),ri("a",{href:"https://make-vm.com",target:"_blank",class:"ml-2 btn btn-xs text-success-content",children:t("manage")})]}),ri("div",{class:"premium-plan-highlight",children:[ri(Ei,{}),ri("div",{children:t("net_no_limits")})]}),ri("div",{class:"premium-plan-highlight",style:"border-bottom: 0px",children:[ri(Ei,{}),ri("div",{children:t("unlock_options")})]})]})]})}function Ei(e){return ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"mr-4 w-6 h-6 text-blue-500 flex-shrink-0",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})})}const Oi=[{name:"DOS",backend:"dosbox",contents:"[sdl]\nautolock=false\n\nfullscreen=false\nfulldouble=false\nfullresolution=original\nwindowresolution=original\noutput=surface\nsensitivity=100\nwaitonerror=true\npriority=higher,normal\nmapperfile=mapper-jsdos.map\nusescancodes=true\nvsync=false\n[dosbox]\nmachine=svga_s3\n\nlanguage=\ncaptures=capture\nmemsize=16\n[cpu]\ncore=auto\ncputype=auto\ncycles=auto\n\ncycleup=10\ncycledown=20\n[mixer]\nnosound=false\nrate=44100\n\nblocksize=1024\nprebuffer=20\n\n[render]\n# frameskip: How many frames DOSBox skips before drawing one.\n#    aspect: Do aspect correction, if your output method doesn't support scaling this can slow things down!.\n#    scaler: Scaler used to enlarge/enhance low resolution modes.\n#              If 'forced' is appended, then the scaler will be used even if the result might not be desired.\n#            Possible values: none, normal2x, normal3x, advmame2x, advmame3x, advinterp2x, advinterp3x, hq2x, hq3x, 2xsai, super2xsai, supereagle, tv2x, tv3x, rgb2x, rgb3x, scan2x, scan3x.\n\nframeskip=0\naspect=false\nscaler=none\n\n[midi]\n#     mpu401: Type of MPU-401 to emulate.\n#             Possible values: intelligent, uart, none.\n# mididevice: Device that will receive the MIDI data from MPU-401.\n#             Possible values: default, win32, alsa, oss, coreaudio, coremidi, none.\n# midiconfig: Special configuration options for the device driver. This is usually the id of the device you want to use.\n#               See the README/Manual for more details.\n\nmpu401=intelligent\nmididevice=default\nmidiconfig=\n\n[sblaster]\n#  sbtype: Type of Soundblaster to emulate. gb is Gameblaster.\n#          Possible values: sb1, sb2, sbpro1, sbpro2, sb16, gb, none.\n#  sbbase: The IO address of the soundblaster.\n#          Possible values: 220, 240, 260, 280, 2a0, 2c0, 2e0, 300.\n#     irq: The IRQ number of the soundblaster.\n#          Possible values: 7, 5, 3, 9, 10, 11, 12.\n#     dma: The DMA number of the soundblaster.\n#          Possible values: 1, 5, 0, 3, 6, 7.\n#    hdma: The High DMA number of the soundblaster.\n#          Possible values: 1, 5, 0, 3, 6, 7.\n# sbmixer: Allow the soundblaster mixer to modify the DOSBox mixer.\n# oplmode: Type of OPL emulation. On 'auto' the mode is determined by sblaster type. All OPL modes are Adlib-compatible, except for 'cms'.\n#          Possible values: auto, cms, opl2, dualopl2, opl3, none.\n#  oplemu: Provider for the OPL emulation. compat might provide better quality (see oplrate as well).\n#          Possible values: default, compat, fast.\n# oplrate: Sample rate of OPL music emulation. Use 49716 for highest quality (set the mixer rate accordingly).\n#          Possible values: 44100, 49716, 48000, 32000, 22050, 16000, 11025, 8000.\n\nsbtype=sb16\nsbbase=220\nirq=7\ndma=1\nhdma=5\nsbmixer=true\noplmode=auto\noplemu=default\noplrate=44100\n\n[gus]\n#      gus: Enable the Gravis Ultrasound emulation.\n#  gusrate: Sample rate of Ultrasound emulation.\n#           Possible values: 44100, 48000, 32000, 22050, 16000, 11025, 8000, 49716.\n#  gusbase: The IO base address of the Gravis Ultrasound.\n#           Possible values: 240, 220, 260, 280, 2a0, 2c0, 2e0, 300.\n#   gusirq: The IRQ number of the Gravis Ultrasound.\n#           Possible values: 5, 3, 7, 9, 10, 11, 12.\n#   gusdma: The DMA channel of the Gravis Ultrasound.\n#           Possible values: 3, 0, 1, 5, 6, 7.\n# ultradir: Path to Ultrasound directory. In this directory\n#           there should be a MIDI directory that contains\n#           the patch files for GUS playback. Patch sets used\n#           with Timidity should work fine.\n\ngus=false\ngusrate=44100\ngusbase=240\ngusirq=5\ngusdma=3\nultradir=C:\\ULTRASND\n\n[speaker]\n# pcspeaker: Enable PC-Speaker emulation.\n#    pcrate: Sample rate of the PC-Speaker sound generation.\n#            Possible values: 44100, 48000, 32000, 22050, 16000, 11025, 8000, 49716.\n#     tandy: Enable Tandy Sound System emulation. For 'auto', emulation is present only if machine is set to 'tandy'.\n#            Possible values: auto, on, off.\n# tandyrate: Sample rate of the Tandy 3-Voice generation.\n#            Possible values: 44100, 48000, 32000, 22050, 16000, 11025, 8000, 49716.\n#    disney: Enable Disney Sound Source emulation. (Covox Voice Master and Speech Thing compatible).\n\npcspeaker=true\npcrate=44100\ntandy=auto\ntandyrate=44100\ndisney=true\n\n[joystick]\n# joysticktype: Type of joystick to emulate: auto (default), none,\n#               2axis (supports two joysticks),\n#               4axis (supports one joystick, first joystick used),\n#               4axis_2 (supports one joystick, second joystick used),\n#               fcs (Thrustmaster), ch (CH Flightstick).\n#               none disables joystick emulation.\n#               auto chooses emulation depending on real joystick(s).\n#               (Remember to reset dosbox's mapperfile if you saved it earlier)\n#               Possible values: auto, 2axis, 4axis, 4axis_2, fcs, ch, none.\n#        timed: enable timed intervals for axis. Experiment with this option, if your joystick drifts (away).\n#     autofire: continuously fires as long as you keep the button pressed.\n#       swap34: swap the 3rd and the 4th axis. can be useful for certain joysticks.\n#   buttonwrap: enable button wrapping at the number of emulated buttons.\n\njoysticktype=auto\ntimed=true\nautofire=false\nswap34=false\nbuttonwrap=false\n\n[serial]\n# serial1: set type of device connected to com port.\n#          Can be disabled, dummy, modem, nullmodem, directserial.\n#          Additional parameters must be in the same line in the form of\n#          parameter:value. Parameter for all types is irq (optional).\n#          for directserial: realport (required), rxdelay (optional).\n#                           (realport:COM1 realport:ttyS0).\n#          for modem: listenport (optional).\n#          for nullmodem: server, rxdelay, txdelay, telnet, usedtr,\n#                         transparent, port, inhsocket (all optional).\n#          Example: serial1=modem listenport:5000\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n# serial2: see serial1\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n# serial3: see serial1\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n# serial4: see serial1\n#          Possible values: dummy, disabled, modem, nullmodem, directserial.\n\nserial1=dummy\nserial2=dummy\nserial3=disabled\nserial4=disabled\n\n[dos]\n#            xms: Enable XMS support.\n#            ems: Enable EMS support.\n#            umb: Enable UMB support.\n# keyboardlayout: Language code of the keyboard layout (or none).\n\nxms=true\nems=true\numb=true\nkeyboardlayout=auto\n\n[ipx]\n# ipx: Enable ipx over UDP/IP emulation.\n\nipx=true\n[autoexec]\necho off\nmount c .\nc:\n\ntype jsdos~1/readme.txt\necho on\n\n# Generated using https://js-dos.com\n# â–ˆâ–€â–€â–€â–€â–€â–ˆ â–ˆ  â–„â–„â–„â–€â–€â–ˆ â–ˆâ–€â–€â–€â–€â–€â–ˆ\n# â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–ˆâ–ˆâ–„ â–ˆ â–€ â–„ â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ\n# â–ˆ â–€â–€â–€ â–ˆ â–„â–ˆâ–ˆ â–€ â–€â–€â–ˆ â–ˆ â–€â–€â–€ â–ˆ\n# â–€â–€â–€â–€â–€â–€â–€ â–€ â–ˆâ–„â–€â–„â–€ â–ˆ â–€â–€â–€â–€â–€â–€â–€\n# â–ˆâ–€â–„â–„â–ˆâ–€â–€â–„â–„ â–€ â–€â–ˆâ–„â–„â–„â–„ â–€â–„â–ˆâ–€â–ˆâ–€\n# â–ˆâ–€ â–€ â–€â–€â–„ â–ˆâ–€ â–„ â–„â–€â–€â–€â–„ â–ˆâ–€â–ˆâ–„\n# â–„ â–„â–„ â–ˆâ–€â–€â–„ â–„â–€â–„â–€â–€â–ˆ  â–€â–€â–„â–€â–€â–ˆâ–€\n#   â–„â–€â–€â–ˆâ–€â–€ â–ˆâ–€â–ˆâ–€â–ˆâ–€â–€â–„ â–€â–ˆâ–ˆâ–€â–ˆâ–„\n# â–€â–€â–€ â–€ â–€ â–ˆâ–„â–ˆ â–€â–ˆâ–„â–„â–ˆâ–€â–€â–€â–ˆâ–€â–€\n# â–ˆâ–€â–€â–€â–€â–€â–ˆ â–„â–„â–„ â–„ â–„ â–ˆ â–€ â–ˆâ–„â–„â–„â–„\n# â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–€â–ˆâ–€â–€â–„â–€â–€â–„â–ˆâ–ˆâ–ˆâ–ˆâ–€â–€â–ˆâ–„â–ˆ\n# â–ˆ â–€â–€â–€ â–ˆ â–„â–€â–€â–ˆâ–€â–ˆâ–€â–„ â–€â–€â–„â–„â–ˆâ–„â–ˆ\n# â–€â–€â–€â–€â–€â–€â–€ â–€   â–€â–€ â–€  â–€   â–€â–€â–€\n".replace(/\n/g,"\r\n")},{name:"X - DOS 7.1",backend:"dosboxX",contents:"\n[sdl]\nautolock=false\n\n[dosbox]\ntitle=DOS 7.1\nmemsize=64\n\n[dos]\nver=7.1\nhard drive data rate limit=0\nfloppy drive data rate limit=0\n\n[cpu]\ncputype=pentium_mmx\ncore=auto\n\n[sblaster]\nsbtype=sb16vibra\n\n[render]\nscaler=none\n\n[autoexec]\necho off\nimgmount 2 sockdrive wss://backend.make-vm.com:8001 dos.zone dos7.1\necho Please visit our website:\necho \necho         _                __\necho        (_)____      ____/ /___  _____ _________  ____ ___\necho       / / ___/_____/ __  / __ \\/ ___// ___/ __ \\/ __ `__ \\\necho      / (__  )_____/ /_/ / /_/ (__  )/ /__/ /_/ / / / / / /\necho   __/ /____/      \\__,_/\\____/____(_)___/\\____/_/ /_/ /_/\necho  /___/\necho\necho type 'boot c:' to load DOS 7.1\necho on\n# \n# â–ˆâ–€â–€â–€â–€â–€â–ˆ â–ˆ  â–„â–„â–„â–€â–€â–ˆ â–ˆâ–€â–€â–€â–€â–€â–ˆ\n# â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–ˆâ–ˆâ–„ â–ˆ â–€ â–„ â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ\n# â–ˆ â–€â–€â–€ â–ˆ â–„â–ˆâ–ˆ â–€ â–€â–€â–ˆ â–ˆ â–€â–€â–€ â–ˆ\n# â–€â–€â–€â–€â–€â–€â–€ â–€ â–ˆâ–„â–€â–„â–€ â–ˆ â–€â–€â–€â–€â–€â–€â–€\n# â–ˆâ–€â–„â–„â–ˆâ–€â–€â–„â–„ â–€ â–€â–ˆâ–„â–„â–„â–„ â–€â–„â–ˆâ–€â–ˆâ–€\n# â–ˆâ–€ â–€ â–€â–€â–„ â–ˆâ–€ â–„ â–„â–€â–€â–€â–„ â–ˆâ–€â–ˆâ–„\n# â–„ â–„â–„ â–ˆâ–€â–€â–„ â–„â–€â–„â–€â–€â–ˆ  â–€â–€â–„â–€â–€â–ˆâ–€\n#   â–„â–€â–€â–ˆâ–€â–€ â–ˆâ–€â–ˆâ–€â–ˆâ–€â–€â–„ â–€â–ˆâ–ˆâ–€â–ˆâ–„\n# â–€â–€â–€ â–€ â–€ â–ˆâ–„â–ˆ â–€â–ˆâ–„â–„â–ˆâ–€â–€â–€â–ˆâ–€â–€\n# â–ˆâ–€â–€â–€â–€â–€â–ˆ â–„â–„â–„ â–„ â–„ â–ˆ â–€ â–ˆâ–„â–„â–„â–„\n# â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–€â–ˆâ–€â–€â–„â–€â–€â–„â–ˆâ–ˆâ–ˆâ–ˆâ–€â–€â–ˆâ–„â–ˆ\n# â–ˆ â–€â–€â–€ â–ˆ â–„â–€â–€â–ˆâ–€â–ˆâ–€â–„ â–€â–€â–„â–„â–ˆâ–„â–ˆ\n# â–€â–€â–€â–€â–€â–€â–€ â–€   â–€â–€ â–€  â–€   â–€â–€â–€\n#\n".replace(/\n/g,"\r\n")},{name:"X - Win 95",backend:"dosboxX",contents:"\n[sdl]\nautolock=false\nmouse_emulation=integration\n\n[dosbox]\ntitle=Windows 95\nmemsize=128\n\n[video]\nvmemsize=8\nvesa modelist width limit=0\nvesa modelist height limit=0\n\n[dos]\nver=7.1\nhard drive data rate limit=0\nfloppy drive data rate limit=0\n\n[cpu]\ncputype=pentium_mmx\ncore=auto\nintegration device=true\n\n[sblaster]\nsbtype=sb16vibra\n\n[fdc, primary]\nint13fakev86io=true\n\n[ide, primary]\nint13fakeio=true\nint13fakev86io=true\n\n[ide, secondary]\nint13fakeio=true\nint13fakev86io=true\ncd-rom insertion delay=4000\n\n[render]\nscaler=none\n\n[autoexec]\necho off\nimgmount 2 sockdrive wss://backend.make-vm.com:8001 dos.zone win95\necho Please visit our website:\necho \necho         _                __\necho        (_)____      ____/ /___  _____ _________  ____ ___\necho       / / ___/_____/ __  / __ \\/ ___// ___/ __ \\/ __ `__ \\\necho      / (__  )_____/ /_/ / /_/ (__  )/ /__/ /_/ / / / / / /\necho   __/ /____/      \\__,_/\\____/____(_)___/\\____/_/ /_/ /_/\necho  /___/\necho\necho type 'boot c:' to load windows 95\necho on\n# \n# â–ˆâ–€â–€â–€â–€â–€â–ˆ â–ˆ  â–„â–„â–„â–€â–€â–ˆ â–ˆâ–€â–€â–€â–€â–€â–ˆ\n# â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–ˆâ–ˆâ–„ â–ˆ â–€ â–„ â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ\n# â–ˆ â–€â–€â–€ â–ˆ â–„â–ˆâ–ˆ â–€ â–€â–€â–ˆ â–ˆ â–€â–€â–€ â–ˆ\n# â–€â–€â–€â–€â–€â–€â–€ â–€ â–ˆâ–„â–€â–„â–€ â–ˆ â–€â–€â–€â–€â–€â–€â–€\n# â–ˆâ–€â–„â–„â–ˆâ–€â–€â–„â–„ â–€ â–€â–ˆâ–„â–„â–„â–„ â–€â–„â–ˆâ–€â–ˆâ–€\n# â–ˆâ–€ â–€ â–€â–€â–„ â–ˆâ–€ â–„ â–„â–€â–€â–€â–„ â–ˆâ–€â–ˆâ–„\n# â–„ â–„â–„ â–ˆâ–€â–€â–„ â–„â–€â–„â–€â–€â–ˆ  â–€â–€â–„â–€â–€â–ˆâ–€\n#   â–„â–€â–€â–ˆâ–€â–€ â–ˆâ–€â–ˆâ–€â–ˆâ–€â–€â–„ â–€â–ˆâ–ˆâ–€â–ˆâ–„\n# â–€â–€â–€ â–€ â–€ â–ˆâ–„â–ˆ â–€â–ˆâ–„â–„â–ˆâ–€â–€â–€â–ˆâ–€â–€\n# â–ˆâ–€â–€â–€â–€â–€â–ˆ â–„â–„â–„ â–„ â–„ â–ˆ â–€ â–ˆâ–„â–„â–„â–„\n# â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–€â–ˆâ–€â–€â–„â–€â–€â–„â–ˆâ–ˆâ–ˆâ–ˆâ–€â–€â–ˆâ–„â–ˆ\n# â–ˆ â–€â–€â–€ â–ˆ â–„â–€â–€â–ˆâ–€â–ˆâ–€â–„ â–€â–€â–„â–„â–ˆâ–„â–ˆ\n# â–€â–€â–€â–€â–€â–€â–€ â–€   â–€â–€ â–€  â–€   â–€â–€â–€\n#\n".replace(/\n/g,"\r\n")},{name:"X - Win 98",backend:"dosboxX",contents:"\n[sdl]\nautolock=false\nmouse_emulation=integration\n\n[dosbox]\ntitle=Windows 98\nmemsize=128\n\n[video]\nvmemsize=8\nvesa modelist width limit=0\nvesa modelist height limit=0\n\n[dos]\nver=7.1\nhard drive data rate limit=0\nfloppy drive data rate limit=0\n\n[cpu]\ncputype=pentium_mmx\ncore=auto\nintegration device=true\n\n[sblaster]\nsbtype=sb16vibra\n\n[fdc, primary]\nint13fakev86io=true\n\n[ide, primary]\nint13fakeio=true\nint13fakev86io=true\n\n[ide, secondary]\nint13fakeio=true\nint13fakev86io=true\ncd-rom insertion delay=4000\n\n[render]\nscaler=none\n\n[autoexec]\necho off\nimgmount 2 sockdrive wss://backend.make-vm.com:8001 dos.zone win98\necho Please visit our website:\necho \necho         _                __\necho        (_)____      ____/ /___  _____ _________  ____ ___\necho       / / ___/_____/ __  / __ \\/ ___// ___/ __ \\/ __ `__ \\\necho      / (__  )_____/ /_/ / /_/ (__  )/ /__/ /_/ / / / / / /\necho   __/ /____/      \\__,_/\\____/____(_)___/\\____/_/ /_/ /_/\necho  /___/\necho\necho type 'boot c:' to load windows 98\necho on\n# \n# â–ˆâ–€â–€â–€â–€â–€â–ˆ â–ˆ  â–„â–„â–„â–€â–€â–ˆ â–ˆâ–€â–€â–€â–€â–€â–ˆ\n# â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–ˆâ–ˆâ–„ â–ˆ â–€ â–„ â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ\n# â–ˆ â–€â–€â–€ â–ˆ â–„â–ˆâ–ˆ â–€ â–€â–€â–ˆ â–ˆ â–€â–€â–€ â–ˆ\n# â–€â–€â–€â–€â–€â–€â–€ â–€ â–ˆâ–„â–€â–„â–€ â–ˆ â–€â–€â–€â–€â–€â–€â–€\n# â–ˆâ–€â–„â–„â–ˆâ–€â–€â–„â–„ â–€ â–€â–ˆâ–„â–„â–„â–„ â–€â–„â–ˆâ–€â–ˆâ–€\n# â–ˆâ–€ â–€ â–€â–€â–„ â–ˆâ–€ â–„ â–„â–€â–€â–€â–„ â–ˆâ–€â–ˆâ–„\n# â–„ â–„â–„ â–ˆâ–€â–€â–„ â–„â–€â–„â–€â–€â–ˆ  â–€â–€â–„â–€â–€â–ˆâ–€\n#   â–„â–€â–€â–ˆâ–€â–€ â–ˆâ–€â–ˆâ–€â–ˆâ–€â–€â–„ â–€â–ˆâ–ˆâ–€â–ˆâ–„\n# â–€â–€â–€ â–€ â–€ â–ˆâ–„â–ˆ â–€â–ˆâ–„â–„â–ˆâ–€â–€â–€â–ˆâ–€â–€\n# â–ˆâ–€â–€â–€â–€â–€â–ˆ â–„â–„â–„ â–„ â–„ â–ˆ â–€ â–ˆâ–„â–„â–„â–„\n# â–ˆ â–ˆâ–ˆâ–ˆ â–ˆ â–€â–ˆâ–€â–€â–„â–€â–€â–„â–ˆâ–ˆâ–ˆâ–ˆâ–€â–€â–ˆâ–„â–ˆ\n# â–ˆ â–€â–€â–€ â–ˆ â–„â–€â–€â–ˆâ–€â–ˆâ–€â–„ â–€â–€â–„â–„â–ˆâ–„â–ˆ\n# â–€â–€â–€â–€â–€â–€â–€ â–€   â–€â–€ â–€  â–€   â–€â–€â–€\n#\n".replace(/\n/g,"\r\n")}],ji=Lo({name:"editor",initialState:{configChanged:!1,bundleConfig:null,errorMessage:null,fs:[]},reducers:{init:(e,t)=>{null===t.payload?(e.configChanged=!0,e.bundleConfig={dosboxConf:Oi[0].contents,jsdosConf:{version:"js-dos-v8"}}):(e.configChanged=!1,e.bundleConfig=t.payload)},dosboxConf:(e,t)=>{e.configChanged=!0,e.bundleConfig.dosboxConf=t.payload}}}),Ai="qwertyuiopasdfghjklzxcvbnm1234567890",Mi=["dosbox","dosboxX"],Ti=["webgl","canvas"],Ri=["AsIs","1/1","5/4","4/3","16/10","16/9","Fit"],zi=65535,Ni=["pixelated","smooth"],Ui={step:"emu-init",emuVersion:"-",error:null,bundle:null,config:{},worker:"false"!==Xo.getItem("worker"),backend:Xo.getItem("backend")??"dosbox",backendLocked:!1,backendHardware:"false"!==Xo.getItem("backendHardware"),renderBackend:Xo.getItem("renderBackend")??"webgl",renderAspect:Xo.getItem("renderAspect")??"AsIs",volume:Number.parseFloat(Xo.getItem("volume")??"1.0"),mouseSensitivity:Number.parseFloat(Xo.getItem("mouse_sensitivity")??"1.0"),mouseCapture:!1,paused:!1,stats:{cyclesPerMs:0,nonSkippableSleepPreSec:0,sleepPerSec:0,sleepTimePerSec:0,framePerSec:0,soundPerSec:0,msgSentPerSec:0,msgRecvPerSec:0,netRecv:0,netSent:0,driveSent:0,driveRecv:0,driveRecvTime:0,driveCacheHit:0,driveCacheMiss:0,driveCacheUsed:0},network:{server:Xo.getItem("net.server")??"netherlands",room:Hi()+Hi()+Hi(),ipx:"disconnected"},ci:!1,imageRendering:Xo.getItem("imageRendering")??"pixelated"},Ii=qo("dos/connectIpx",(async(e,t)=>{const n=t.getState().dos;if("connected"===n.network.ipx)throw new Error("Already connected");if(!1===n.ci||!Qo.ci)throw new Error("DOS is not started");const r=e.address.endsWith("/")?e.address.substring(0,e.address.length-1):e.address;return Qo.ci.networkConnect(0,r+":1900/ipx/"+e.room.replaceAll("@","_"))})),Li=Lo({name:"dos",initialState:Ui,reducers:{emuReady:(e,t)=>{e.step="emu-ready",e.emuVersion=t.payload},emuError:(e,t)=>{e.step="emu-error",e.error=t.payload??"Unexpeceted error"},bndLoad:(e,t)=>{e.step="bnd-load",e.bundle=t.payload},bndError:(e,t)=>{e.step="bnd-error",e.error=t.payload??"Unexpeceted error"},bndConfig:e=>{e.step="bnd-config"},bndReady:(e,t)=>{e.step="bnd-ready",e.config=t.payload},bndPlay:e=>{e.step="bnd-play",Jo("bnd-play")},dosWorker:(e,t)=>{e.worker=t.payload,Xo.setItem("worker",e.worker?"true":"false")},dosBackend:(e,t)=>{e.backend=t.payload},dosBackendLocked:(e,t)=>{e.backendLocked=t.payload},dosBackendHardware:(e,t)=>{e.backendHardware=t.payload,Xo.setItem("backendHardware",e.backendHardware?"true":"false")},renderBackend:(e,t)=>{e.renderBackend=t.payload,Xo.setItem("renderBackend",e.renderBackend)},renderAspect:(e,t)=>{e.renderAspect=t.payload,Xo.setItem("renderAspect",e.renderAspect)},imageRendering:(e,t)=>{e.imageRendering=t.payload,Xo.setItem("imageRendering",e.imageRendering)},volume:(e,t)=>{e.volume=t.payload,Xo.setItem("volume",e.volume+"")},mouseSensitivity:(e,t)=>{e.mouseSensitivity=t.payload,Xo.setItem("mouse_sensitivity",e.mouseSensitivity+"")},mouseCapture:(e,t)=>{e.mouseCapture=t.payload},paused:(e,t)=>{e.paused=t.payload},stats:(e,t)=>{e.stats=t.payload},ci:(e,t)=>{e.ci=t.payload},disconnectIpx:e=>{var t;e.network.ipx="disconnected",null==(t=Qo.ci)||t.networkDisconnect(0)},setRoom:(e,t)=>{e.network.room=t.payload},setServer:(e,t)=>{e.network.server=t.payload,Xo.setItem("net.server",t.payload)}},extraReducers:{[Ii.fulfilled.type]:e=>{e.network.ipx="connected"},[Ii.pending.type]:e=>{e.network.ipx="connecting"},[Ii.rejected.type]:e=>{e.network.ipx="error"}}}),Di={connectIpx:Ii};function Bi(e,t){e.dispatch((async e=>{try{await function(e){if(null!==document.querySelector("#emulators.js"))return Promise.resolve();return new Promise(((t,n)=>{const r=document.createElement("script");r.async=!0,r.type="text/javascript",r.src=e+"emulators.js",r.onload=()=>{emulators.pathPrefix=e,t()},r.onerror=e=>{n(new Error("Unable to add emulators.js. Probably you should set the 'pathPrefix' option to point to the js-dos folder."))},document.head.appendChild(r)}))}(t),e(Li.actions.emuReady(emulators.version))}catch(n){console.error("Unable to init emulators.js",n),e(Li.actions.emuError(n.message))}}))}function Hi(){return Ai[Math.round(Math.random()*(Ai.length-1))]}function Fi(){const e=Si(),t=on((e=>e.editor.bundleConfig)),n=tr();function r(e){n(Li.actions.mouseCapture(e.indexOf("autolock=true")>0)),n(ji.actions.dosboxConf(e))}return null===t?null:ri("div",{class:"editor-conf-frame flex flex-col flex-grow w-full py-4",children:[ri("div",{class:"mr-4 self-start mb-4",children:e("dosboxconf_template")}),ri("div",{class:"flex flex-row flex-wrap items-center mb-4",children:Oi.map((({name:e,backend:t,contents:o})=>ri("button",{class:"btn btn-sm mx-2 mb-2",onClick:()=>{n(Li.actions.dosBackend("dosboxX"===t?"dosboxX":"dosbox")),r(o)},children:e})))}),ri("textarea",{class:"flex-grow",value:t.dosboxConf,onChange:function(e){var t;r((null==(t=e.currentTarget)?void 0:t.value)??"")}})]})}var qi={exports:{}};
/*! react-checkbox-tree - v1.8.0 | 2022 */self;const Wi=F(qi.exports=(e=>(()=>{var t={4184:(e,t)=>{var n;!function(){var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var s=o.apply(null,n);s&&e.push(s)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var a in n)r.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},8552:(e,t,n)=>{var r=n(852)(n(5639),"DataView");e.exports=r},1989:(e,t,n)=>{var r=n(1789),o=n(401),i=n(7667),s=n(1327),a=n(1866);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},8407:(e,t,n)=>{var r=n(7040),o=n(4125),i=n(2117),s=n(7518),a=n(4705);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},7071:(e,t,n)=>{var r=n(852)(n(5639),"Map");e.exports=r},3369:(e,t,n)=>{var r=n(4785),o=n(1285),i=n(6e3),s=n(9916),a=n(5265);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},3818:(e,t,n)=>{var r=n(852)(n(5639),"Promise");e.exports=r},8525:(e,t,n)=>{var r=n(852)(n(5639),"Set");e.exports=r},8668:(e,t,n)=>{var r=n(3369),o=n(619),i=n(2385);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=o,s.prototype.has=i,e.exports=s},6384:(e,t,n)=>{var r=n(8407),o=n(7465),i=n(3779),s=n(7599),a=n(4758),c=n(4309);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=c,e.exports=l},2705:(e,t,n)=>{var r=n(5639).Symbol;e.exports=r},1149:(e,t,n)=>{var r=n(5639).Uint8Array;e.exports=r},577:(e,t,n)=>{var r=n(852)(n(5639),"WeakMap");e.exports=r},4963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}},4636:(e,t,n)=>{var r=n(2545),o=n(5694),i=n(1469),s=n(4144),a=n(5776),c=n(6719),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),d=!n&&!u&&s(e),f=!n&&!u&&!d&&c(e),h=n||u||d||f,p=h?r(e.length,String):[],v=p.length;for(var m in e)!t&&!l.call(e,m)||h&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,v))||p.push(m);return p}},2488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},2908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},8470:(e,t,n)=>{var r=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},8866:(e,t,n)=>{var r=n(2488),o=n(1469);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},4239:(e,t,n)=>{var r=n(2705),o=n(9607),i=n(2333),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):i(e)}},9454:(e,t,n)=>{var r=n(4239),o=n(7005);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},939:(e,t,n)=>{var r=n(2492),o=n(7005);e.exports=function e(t,n,i,s,a){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,s,e,a))}},2492:(e,t,n)=>{var r=n(6384),o=n(7114),i=n(8351),s=n(6096),a=n(4160),c=n(1469),l=n(4144),u=n(6719),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,_){var b=c(e),y=c(t),g=b?f:a(e),w=y?f:a(t),k=(g=g==d?h:g)==h,x=(w=w==d?h:w)==h,S=g==w;if(S&&l(e)){if(!l(t))return!1;b=!0,k=!1}if(S&&!k)return _||(_=new r),b||u(e)?o(e,t,n,v,m,_):i(e,t,g,n,v,m,_);if(!(1&n)){var C=k&&p.call(e,"__wrapped__"),P=x&&p.call(t,"__wrapped__");if(C||P){var E=C?e.value():e,O=P?t.value():t;return _||(_=new r),m(E,O,n,v,_)}}return!!S&&(_||(_=new r),s(e,t,n,v,m,_))}},8458:(e,t,n)=>{var r=n(3560),o=n(5346),i=n(3218),s=n(346),a=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:a).test(s(e))}},8749:(e,t,n)=>{var r=n(4239),o=n(1780),i=n(7005),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!s[r(e)]}},280:(e,t,n)=>{var r=n(5726),o=n(6916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1717:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4429:(e,t,n)=>{var r=n(5639)["__core-js_shared__"];e.exports=r},7114:(e,t,n)=>{var r=n(8668),o=n(2908),i=n(4757);e.exports=function(e,t,n,s,a,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var f=c.get(e),h=c.get(t);if(f&&h)return f==t&&h==e;var p=-1,v=!0,m=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<u;){var _=e[p],b=t[p];if(s)var y=l?s(b,_,p,t,e,c):s(_,b,p,e,t,c);if(void 0!==y){if(y)continue;v=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(_===e||a(_,e,n,s,c)))return m.push(t)}))){v=!1;break}}else if(_!==b&&!a(_,b,n,s,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},8351:(e,t,n)=>{var r=n(2705),o=n(1149),i=n(7813),s=n(7114),a=n(8776),c=n(1814),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=a;case"[object Set]":var p=1&r;if(h||(h=c),e.size!=t.size&&!p)return!1;var v=f.get(e);if(v)return v==t;r|=2,f.set(e,t);var m=s(h(e),h(t),r,l,d,f);return f.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},6096:(e,t,n)=>{var r=n(8234),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,s,a){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var d=u;d--;){var f=l[d];if(!(c?f in t:o.call(t,f)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var v=!0;a.set(e,t),a.set(t,e);for(var m=c;++d<u;){var _=e[f=l[d]],b=t[f];if(i)var y=c?i(b,_,f,t,e,a):i(_,b,f,e,t,a);if(!(void 0===y?_===b||s(_,b,n,i,a):y)){v=!1;break}m||(m="constructor"==f)}if(v&&!m){var g=e.constructor,w=t.constructor;g==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof w&&w instanceof w||(v=!1)}return a.delete(e),a.delete(t),v}},1957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8234:(e,t,n)=>{var r=n(8866),o=n(9551),i=n(3674);e.exports=function(e){return r(e,i,o)}},5050:(e,t,n)=>{var r=n(7019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},852:(e,t,n)=>{var r=n(8458),o=n(7801);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},9607:(e,t,n)=>{var r=n(2705),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(c){}var o=s.call(e);return r&&(t?e[a]=n:delete e[a]),o}},9551:(e,t,n)=>{var r=n(4963),o=n(479),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return i.call(e,t)})))}:o;e.exports=a},4160:(e,t,n)=>{var r=n(8552),o=n(7071),i=n(3818),s=n(8525),a=n(577),c=n(4239),l=n(346),u="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",v=l(r),m=l(o),_=l(i),b=l(s),y=l(a),g=c;(r&&g(new r(new ArrayBuffer(1)))!=p||o&&g(new o)!=u||i&&g(i.resolve())!=d||s&&g(new s)!=f||a&&g(new a)!=h)&&(g=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case v:return p;case m:return u;case _:return d;case b:return f;case y:return h}return t}),e.exports=g},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1789:(e,t,n)=>{var r=n(4536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},1866:(e,t,n)=>{var r=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var r,o=n(4429),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var r=n(8470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},2117:(e,t,n)=>{var r=n(8470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7518:(e,t,n)=>{var r=n(8470);e.exports=function(e){return r(this.__data__,e)>-1}},4705:(e,t,n)=>{var r=n(8470);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4785:(e,t,n)=>{var r=n(1989),o=n(8407),i=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},1285:(e,t,n)=>{var r=n(5050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).get(e)}},9916:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).has(e)}},5265:(e,t,n)=>{var r=n(5050);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4536:(e,t,n)=>{var r=n(852)(Object,"create");e.exports=r},6916:(e,t,n)=>{var r=n(5569)(Object.keys,Object);e.exports=r},1167:(e,t,n)=>{e=n.nmd(e);var r=n(1957),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o&&r.process,a=function(){try{return i&&i.require&&i.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5639:(e,t,n)=>{var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},7465:(e,t,n)=>{var r=n(8407);e.exports=function(){this.__data__=new r,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var r=n(8407),o=n(7071),i=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5694:(e,t,n)=>{var r=n(9454),o=n(7005),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var r=n(3560),o=n(1780);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},4144:(e,t,n)=>{e=n.nmd(e);var r=n(5639),o=n(5062),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,a=s&&s.exports===i?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||o;e.exports=c},8446:(e,t,n)=>{var r=n(939);e.exports=function(e,t){return r(e,t)}},3560:(e,t,n)=>{var r=n(4239),o=n(3218);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},6719:(e,t,n)=>{var r=n(8749),o=n(1717),i=n(1167),s=i&&i.isTypedArray,a=s?o(s):r;e.exports=a},3674:(e,t,n)=>{var r=n(4636),o=n(280),i=n(8612);e.exports=function(e){return i(e)?r(e):o(e)}},8306:(e,t,n)=>{var r=n(3369);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},2703:(e,t,n)=>{var r=n(414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9787:t=>{t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e](i,i.exports,r),i.loaded=!0,i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var o={};return(()=>{r.r(o),r.d(o,{default:()=>le,expandNodesToLevel:()=>ce});var e=r(4184),t=r.n(e),n=r(8446),i=r.n(n),s=r(8306),a=r.n(s);let c=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"");var l=r(5697),u=r.n(l),d=r(9787),f=r.n(d);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=["children","title"];function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_(r);if(o){var n=_(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,p);return f().createElement("button",v({"aria-label":n,title:n,type:"button"},r),t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(f().PureComponent);b(y,"propTypes",{children:u().node.isRequired,title:u().string}),b(y,"defaultProps",{title:null});const g=y,w={ALL:"all",PARENT:"parent",LEAF:"leaf"};function k(e){this.message=e,this.stack=Error().stack}k.prototype=Object.create(Error.prototype),k.prototype.name="CheckboxTreeError";const x=k;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=w;const E=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.props=t,this.flatNodes=n}var t,n;return t=e,n=[{key:"setProps",value:function(e){this.props=e}},{key:"clone",value:function(){var t=this,n={};return Object.keys(this.flatNodes).forEach((function(e){var r=t.flatNodes[e];n[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r)})),new e(this.props,n)}},{key:"getNode",value:function(e){return this.flatNodes[e]}},{key:"reset",value:function(){this.flatNodes={}}},{key:"flattenNodes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(Array.isArray(e)&&0!==e.length){var o=this.props,i=o.disabled,s=o.noCascade;e.forEach((function(e,o){var a=t.nodeHasChildren(e);if(void 0!==t.flatNodes[e.value])throw new x("Duplicate value '".concat(e.value,"' detected. All node values must be unique."));t.flatNodes[e.value]={label:e.label,value:e.value,children:e.children,parent:n,isChild:void 0!==n.value,isParent:a,isLeaf:!a,showCheckbox:void 0===e.showCheckbox||e.showCheckbox,disabled:t.getDisabledState(e,n,i,s),treeDepth:r,index:o},t.flattenNodes(e.children,e,r+1)}))}}},{key:"nodeHasChildren",value:function(e){return Array.isArray(e.children)}},{key:"getDisabledState",value:function(e,t,n,r){return!!n||!(r||!t.disabled)||Boolean(e.disabled)}},{key:"deserializeLists",value:function(e){var t=this,n=["checked","expanded"];Object.keys(this.flatNodes).forEach((function(e){n.forEach((function(n){t.flatNodes[e][n]=!1}))})),n.forEach((function(n){e[n].forEach((function(e){void 0!==t.flatNodes[e]&&(t.flatNodes[e][n]=!0)}))}))}},{key:"serializeList",value:function(e){var t=this,n=[];return Object.keys(this.flatNodes).forEach((function(r){t.flatNodes[r][e]&&n.push(r)})),n}},{key:"expandAllNodes",value:function(e){var t=this;return Object.keys(this.flatNodes).forEach((function(n){t.flatNodes[n].isParent&&(t.flatNodes[n].expanded=e)})),this}},{key:"toggleChecked",value:function(e,t,n,r){var o=this,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this.flatNodes[e.value],a=[P.PARENT,P.ALL].indexOf(n)>-1,c=[P.LEAF,P.ALL].indexOf(n)>-1;if(s.isLeaf||r){if(e.disabled)return this;this.toggleNode(e.value,"checked",t)}else(a||0===s.children.length)&&this.toggleNode(e.value,"checked",t),c&&s.children.forEach((function(e){o.toggleChecked(e,t,n,r,!1)}));return i&&!r&&s.isChild&&a&&this.toggleParentStatus(s.parent,n),this}},{key:"toggleParentStatus",value:function(e,t){var n=this.flatNodes[e.value];n.isChild?(t===P.ALL&&this.toggleNode(e.value,"checked",this.isEveryChildChecked(n)),this.toggleParentStatus(n.parent,t)):this.toggleNode(e.value,"checked",this.isEveryChildChecked(n))}},{key:"isEveryChildChecked",value:function(e){var t=this;return e.children.every((function(e){return t.getNode(e.value).checked}))}},{key:"toggleNode",value:function(e,t,n){return this.flatNodes[e][t]=n,this}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(s,e);var t,n,r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i.apply(this,arguments)}return t=s,n=[{key:"componentDidMount",value:function(){this.updateDeterminateProperty()}},{key:"componentDidUpdate",value:function(){this.updateDeterminateProperty()}},{key:"updateDeterminateProperty",value:function(){var e=this.props.indeterminate;this.checkbox.indeterminate=e}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props);return delete t.indeterminate,f().createElement("input",j({},t,{ref:function(t){e.checkbox=t},type:"checkbox"}))}}],n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(f().PureComponent);R(z,"propTypes",{indeterminate:u().bool}),R(z,"defaultProps",{indeterminate:!1});const N=z,U=u().shape({check:u().node,uncheck:u().node,halfCheck:u().node,expandClose:u().node,expandOpen:u().node,expandAll:u().node,collapseAll:u().node,parentClose:u().node,parentOpen:u().node,leaf:u().node}),I=u().shape({collapseAll:u().string.isRequired,expandAll:u().string.isRequired,toggle:u().string.isRequired});function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(a,e);var n,r,o,i,s=(o=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=H(o);if(i){var n=H(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this,e)).onCheck=t.onCheck.bind(B(t)),t.onCheckboxKeyPress=t.onCheckboxKeyPress.bind(B(t)),t.onCheckboxKeyUp=t.onCheckboxKeyUp.bind(B(t)),t.onClick=t.onClick.bind(B(t)),t.onExpand=t.onExpand.bind(B(t)),t}return n=a,(r=[{key:"onCheck",value:function(){var e=this.props,t=e.value;(0,e.onCheck)({value:t,checked:this.getCheckState({toggle:!0})})}},{key:"onCheckboxKeyPress",value:function(e){32===e.which&&e.preventDefault()}},{key:"onCheckboxKeyUp",value:function(e){var t=e.keyCode;[13,32].includes(t)&&this.onCheck()}},{key:"onClick",value:function(){var e=this.props,t=e.expandOnClick,n=e.isParent,r=e.value,o=e.onClick;n&&t&&this.onExpand(),o({value:r,checked:this.getCheckState({toggle:!1})})}},{key:"onExpand",value:function(){var e=this.props,t=e.expanded,n=e.value;(0,e.onExpand)({value:n,expanded:!t})}},{key:"getCheckState",value:function(e){var t=e.toggle,n=this.props,r=n.checked,o=n.optimisticToggle;return!(0!==r||!t)||1===r&&!t||2===r&&o}},{key:"renderCollapseButton",value:function(){var e=this.props,t=e.expandDisabled,n=e.isLeaf,r=e.lang;return n?f().createElement("span",{className:"rct-collapse"},f().createElement("span",{className:"rct-icon"})):f().createElement(g,{className:"rct-collapse rct-collapse-btn",disabled:t,title:r.toggle,onClick:this.onExpand},this.renderCollapseIcon())}},{key:"renderCollapseIcon",value:function(){var e=this.props,t=e.expanded,n=e.icons,r=n.expandClose,o=n.expandOpen;return t?o:r}},{key:"renderCheckboxIcon",value:function(){var e=this.props,t=e.checked,n=e.icons,r=n.uncheck,o=n.check,i=n.halfCheck;return 0===t?r:1===t?o:i}},{key:"renderNodeIcon",value:function(){var e=this.props,t=e.expanded,n=e.icon,r=e.icons,o=r.leaf,i=r.parentClose,s=r.parentOpen,a=e.isLeaf;return null!==n?n:a?o:t?s:i}},{key:"renderBareLabel",value:function(e){var t=this.props,n=t.onClick,r=t.title,o=null!==n;return f().createElement("span",{className:"rct-bare-label",title:r},o?f().createElement("span",{className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"button",tabIndex:0},e):e)}},{key:"renderCheckboxLabel",value:function(e){var t=this.props,n=t.checked,r=t.disabled,o=t.title,i=t.treeId,s=t.value,a=null!==t.onClick,c="".concat(i,"-").concat(String(s).split(" ").join("_")),l=[f().createElement("label",{key:0,htmlFor:c,title:o},f().createElement(N,{checked:1===n,disabled:r,id:c,indeterminate:2===n,onClick:this.onCheck,onChange:function(){}}),f().createElement("span",{"aria-checked":1===n,"aria-disabled":r,className:"rct-checkbox",role:"checkbox",tabIndex:0,onKeyPress:this.onCheckboxKeyPress,onKeyUp:this.onCheckboxKeyUp},this.renderCheckboxIcon()),a?null:e)];return a&&l.push(f().createElement("span",{key:1,className:"rct-node-clickable",onClick:this.onClick,onKeyPress:this.onClick,role:"link",tabIndex:0},e)),l}},{key:"renderLabel",value:function(){var e=this.props,t=e.label,n=e.showCheckbox,r=[e.showNodeIcon?f().createElement("span",{key:0,className:"rct-node-icon"},this.renderNodeIcon()):null,f().createElement("span",{key:1,className:"rct-title"},t)];return n?this.renderCheckboxLabel(r):this.renderBareLabel(r)}},{key:"renderChildren",value:function(){return this.props.expanded?this.props.children:null}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.disabled,o=e.expanded,i=e.isLeaf,s=t()({"rct-node":!0,"rct-node-leaf":i,"rct-node-parent":!i,"rct-node-expanded":!i&&o,"rct-node-collapsed":!i&&!o,"rct-disabled":r},n);return f().createElement("li",{className:s},f().createElement("span",{className:"rct-text"},this.renderCollapseButton(),this.renderLabel()),this.renderChildren())}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(f().PureComponent);F(q,"propTypes",{checked:u().number.isRequired,disabled:u().bool.isRequired,expandDisabled:u().bool.isRequired,expanded:u().bool.isRequired,icons:U.isRequired,isLeaf:u().bool.isRequired,isParent:u().bool.isRequired,label:u().node.isRequired,lang:I.isRequired,optimisticToggle:u().bool.isRequired,showNodeIcon:u().bool.isRequired,treeId:u().string.isRequired,value:u().oneOfType([u().string,u().number]).isRequired,onCheck:u().func.isRequired,onExpand:u().func.isRequired,children:u().node,className:u().string,expandOnClick:u().bool,icon:u().node,showCheckbox:u().bool,title:u().string,onClick:u().func}),F(q,"defaultProps",{children:null,className:null,expandOnClick:!1,icon:null,showCheckbox:!0,title:null,onClick:function(){}});const W=q,V=u().oneOfType([u().arrayOf(u().string),u().arrayOf(u().number)]);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G={label:u().node.isRequired,value:u().oneOfType([u().string,u().number]).isRequired,disabled:u().bool,icon:u().node,showCheckbox:u().bool,title:u().string};const Y=u().oneOfType([u().shape(G),u().shape(X(X({},G),{},{children:u().arrayOf(G).isRequired}))]);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return(te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(d,e);var n,r,o,s,l,u=(s=d,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=re(s);if(l){var n=re(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ne(e)}(this,e)});function d(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),t=u.call(this,e);var n=new E(e);return n.flattenNodes(e.nodes),n.deserializeLists({checked:e.checked,expanded:e.expanded}),t.state={id:e.id||"rct-".concat(c()),model:n,prevProps:e},t.onCheck=t.onCheck.bind(ne(t)),t.onExpand=t.onExpand.bind(ne(t)),t.onNodeClick=t.onNodeClick.bind(ne(t)),t.onExpandAll=t.onExpandAll.bind(ne(t)),t.onCollapseAll=t.onCollapseAll.bind(ne(t)),t.combineMemorized=a()((function(e,t){return Z(Z({},e),t)})).bind(ne(t)),t}return n=d,r=[{key:"onCheck",value:function(e){var t=this.props,n=t.checkModel,r=t.noCascade,o=t.onCheck,i=this.state.model.clone(),s=i.getNode(e.value);i.toggleChecked(e,e.checked,n,r),o(i.serializeList("checked"),Z(Z({},s),e))}},{key:"onExpand",value:function(e){var t=this.props.onExpand,n=this.state.model.clone(),r=n.getNode(e.value);n.toggleNode(e.value,"expanded",e.expanded),t(n.serializeList("expanded"),Z(Z({},r),e))}},{key:"onNodeClick",value:function(e){(0,this.props.onClick)(Z(Z({},this.state.model.getNode(e.value)),e))}},{key:"onExpandAll",value:function(){this.expandAllNodes()}},{key:"onCollapseAll",value:function(){this.expandAllNodes(!1)}},{key:"expandAllNodes",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,this.props.onExpand)(this.state.model.clone().expandAllNodes(e).serializeList("expanded"))}},{key:"determineShallowCheckState",value:function(e,t){var n=this.state.model.getNode(e.value);return n.isLeaf||t||0===e.children.length?n.checked?1:0:this.isEveryChildChecked(e)?1:this.isSomeChildChecked(e)?2:0}},{key:"isEveryChildChecked",value:function(e){var t=this;return e.children.every((function(e){return 1===t.state.model.getNode(e.value).checkState}))}},{key:"isSomeChildChecked",value:function(e){var t=this;return e.children.some((function(e){return t.state.model.getNode(e.value).checkState>0}))}},{key:"renderTreeNodes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.props,o=r.expandDisabled,i=r.expandOnClick,s=r.icons,a=r.lang,c=r.noCascade,l=r.onClick,u=r.onlyLeafCheckboxes,h=r.optimisticToggle,p=r.showNodeTitle,v=r.showNodeIcon,m=this.state,_=m.id,b=m.model,y=d.defaultProps.icons,g=e.map((function(e){var r=e.value,d=b.getNode(e.value),m=d.isParent?t.renderTreeNodes(e.children,e):null;d.checkState=t.determineShallowCheckState(e,c);var g=u?d.isLeaf:d.showCheckbox;return!n.value||b.getNode(n.value).expanded?f().createElement(W,{key:r,checked:d.checkState,className:e.className,disabled:d.disabled,expandDisabled:o,expandOnClick:i,expanded:d.expanded,icon:e.icon,icons:t.combineMemorized(y,s),label:e.label,lang:a,optimisticToggle:h,isLeaf:d.isLeaf,isParent:d.isParent,showCheckbox:g,showNodeIcon:v,title:p?e.title||e.label:e.title,treeId:_,value:e.value,onCheck:t.onCheck,onClick:l&&t.onNodeClick,onExpand:t.onExpand},m):null}));return f().createElement("ol",null,g)}},{key:"renderExpandAll",value:function(){var e=this.props,t=e.icons,n=t.expandAll,r=t.collapseAll,o=e.lang;return e.showExpandAll?f().createElement("div",{className:"rct-options"},f().createElement(g,{className:"rct-option rct-option-expand-all",title:o.expandAll,onClick:this.onExpandAll},n),f().createElement(g,{className:"rct-option rct-option-collapse-all",title:o.collapseAll,onClick:this.onCollapseAll},r)):null}},{key:"renderHiddenInput",value:function(){var e=this.props,t=e.name,n=e.nameAsArray;return void 0===t?null:n?this.renderArrayHiddenInput():this.renderJoinedHiddenInput()}},{key:"renderArrayHiddenInput",value:function(){var e=this.props,t=e.checked,n=e.name;return t.map((function(e){var t="".concat(n,"[]");return f().createElement("input",{key:e,name:t,type:"hidden",value:e})}))}},{key:"renderJoinedHiddenInput",value:function(){var e=this.props,t=e.checked,n=e.name,r=t.join(",");return f().createElement("input",{name:n,type:"hidden",value:r})}},{key:"render",value:function(){var e,n=this.props,r=n.direction,o=n.disabled,i=n.iconsClass,s=n.nodes,a=n.nativeCheckboxes,c=this.state.id,l=this.renderTreeNodes(s),u=t()((oe(e={"react-checkbox-tree":!0,"rct-disabled":o},"rct-icons-".concat(i),!0),oe(e,"rct-native-display",a),oe(e,"rct-direction-rtl","rtl"===r),e));return f().createElement("div",{className:u,id:c},this.renderExpandAll(),this.renderHiddenInput(),l)}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.model,r=t.prevProps,o=e.disabled,s=e.id,a=e.nodes,c=Z(Z({},t),{},{prevProps:e});return n.setProps(e),i()(r.nodes,a)&&r.disabled===o||(n.reset(),n.flattenNodes(a)),null!==s&&(c=Z(Z({},c),{},{id:s})),n.deserializeLists({checked:e.checked,expanded:e.expanded}),c}}],r&&ee(n.prototype,r),o&&ee(n,o),Object.defineProperty(n,"prototype",{writable:!1}),d}(f().Component);function se(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>t)return[];var r=[];return e.forEach((function(e){e.children&&(r=[].concat(se(r),[e.value],se(ce(e.children,t,n+1))))})),r}oe(ie,"propTypes",{nodes:u().arrayOf(Y).isRequired,checkModel:u().oneOf([w.LEAF,w.ALL]),checked:V,direction:u().string,disabled:u().bool,expandDisabled:u().bool,expandOnClick:u().bool,expanded:V,icons:U,iconsClass:u().string,id:u().string,lang:I,name:u().string,nameAsArray:u().bool,nativeCheckboxes:u().bool,noCascade:u().bool,onlyLeafCheckboxes:u().bool,optimisticToggle:u().bool,showExpandAll:u().bool,showNodeIcon:u().bool,showNodeTitle:u().bool,onCheck:u().func,onClick:u().func,onExpand:u().func}),oe(ie,"defaultProps",{checkModel:w.LEAF,checked:[],direction:"ltr",disabled:!1,expandDisabled:!1,expandOnClick:!1,expanded:[],icons:{check:f().createElement("span",{className:"rct-icon rct-icon-check"}),uncheck:f().createElement("span",{className:"rct-icon rct-icon-uncheck"}),halfCheck:f().createElement("span",{className:"rct-icon rct-icon-half-check"}),expandClose:f().createElement("span",{className:"rct-icon rct-icon-expand-close"}),expandOpen:f().createElement("span",{className:"rct-icon rct-icon-expand-open"}),expandAll:f().createElement("span",{className:"rct-icon rct-icon-expand-all"}),collapseAll:f().createElement("span",{className:"rct-icon rct-icon-collapse-all"}),parentClose:f().createElement("span",{className:"rct-icon rct-icon-parent-close"}),parentOpen:f().createElement("span",{className:"rct-icon rct-icon-parent-open"}),leaf:f().createElement("span",{className:"rct-icon rct-icon-leaf"})},iconsClass:"fa4",id:null,lang:{collapseAll:"Collapse all",expandAll:"Expand all",toggle:"Toggle"},name:void 0,nameAsArray:!1,nativeCheckboxes:!1,noCascade:!1,onlyLeafCheckboxes:!1,optimisticToggle:!0,showExpandAll:!1,showNodeIcon:!0,showNodeTitle:!1,onCheck:function(){},onClick:null,onExpand:function(){}});const le=ie})(),o})())(Pt)),Vi=Lo({name:"storage",initialState:{recived:0,total:0,ready:!1},reducers:{reset:e=>{e.recived=-1,e.total=0,e.ready=!1},progress:(e,t)=>{e.recived=t.payload[0],e.total=t.payload[1]},ready:e=>{e.ready=!0}}});const $i=Uo({reducer:{i18n:xi.reducer,auth:mi.reducer,ui:ei.reducer,dos:Li.reducer,storage:Vi.reducer,editor:ji.reducer}});function Xi(e,t){const n=function(e,t){const n=t.lastIndexOf("/"),r=t.substring(n+1);return"personal-v2/"+ci+"/"+e+"/"+r}(e,t);return ai+"/"+si+"/"+n}async function Ki(e,t){let n=await fetch(li+"?bundleUrl="+encodeURIComponent(e));const r=await n.json();if(!r.success)throw new Error("Unable to put personal bundle");const o=r.post,i=new FormData;if(Object.entries(o.fields).forEach((([e,t])=>{i.append(e,t)})),i.append("acl","public-read"),i.append("file",new Blob([t])),n=await fetch(o.url,{method:"post",body:i}),200!==n.status&&204!==n.status)throw new Error("Unable to put changes: "+n.statusText)}function Gi(e,t){return Qi(e.name,function(e,t){return new Promise((n=>{t(Vi.actions.reset());const r=new FileReader;r.addEventListener("load",(async e=>{n(new Uint8Array(r.result))})),r.addEventListener("progress",(e=>{t(Vi.actions.progress([e.loaded,e.total]))})),r.readAsArrayBuffer(e)}))}(e,t),null,null,t)}async function Yi(e,t){var n;const r=(null==(n=$i.getState().auth.account)?void 0:n.email)??"guest",o=await Xi(r,e);return Qi(e,async function(e,t){try{return await Qo.cache.get(e)}catch(u){}t(Vi.actions.reset());const n=await fetch(e,{cache:"no-store"});if(200!==n.status)throw new Error("Resource not avalible ("+n.status+"): "+n.statusText);const r=n.headers.get("Content-Length"),o=null===r?0:Number.parseInt(r),i=n.body.getReader();let s=0;const a=[];for(;;){const{done:n,value:r}=await i.read();if(n)break;a.push(r),s+=r.length;const c=Math.min(e.startsWith(fi)?s/2:s,o);t(Vi.actions.progress([c,o]))}let c=0;const l=new Uint8Array(s);for(const d of a)l.set(d,c),c+=d.length;return Qo.cache.put(e,l).catch(console.error),l}(e,t),async function(e){$i.getState().auth.ready||await new Promise((e=>{let t=null;const n=()=>{$i.getState().auth.ready&&(t(),e())};t=$i.subscribe(n)}));const t=$i.getState().auth.account,n=(null==t?void 0:t.email)??"guest",r=Xi(n,e),o=await async function(e,t){if(null===t||!t.premium)return await Qo.cache.get(e).catch((()=>null));try{const t=await fetch(e,{cache:"no-cache"});if(200!==t.status)throw new Error("Resource not avalible ("+t.status+"): "+t.statusText);return t.arrayBuffer().then((e=>new Uint8Array(e)))}catch(n){return await Qo.cache.get(e).catch((()=>null))}}(r,t);return{url:r,bundle:o}}(o),e,t)}async function Qi(e,t,n,r,o){Qo.loadedBundle=null,o(Li.actions.bndLoad(e));const i=await t;o(Vi.actions.ready());const s=await n;o(Li.actions.bndConfig());const a=await emulators.bundleConfig(i);o(ji.actions.init(a)),null===a?o(ei.actions.frameConf()):Ji(a,o),Qo.loadedBundle={bundleUrl:r,bundleChangesUrl:(null==s?void 0:s.url)??null,bundle:i,bundleChanges:(null==s?void 0:s.bundle)??null},o(Li.actions.bndReady({}))}function Ji(e,t){e.dosboxConf.indexOf("sockdrive")>=0&&(t(Li.actions.dosBackendLocked(!0)),t(Li.actions.dosBackend("dosboxX"))),t(Li.actions.mouseCapture(e.dosboxConf.indexOf("autolock=true")>=0))}function Zi(e,t,n=!0){const r=document.createElement("a");r.href=t,r.target=n?"_blank":"_self",r.download=e,r.style.display="none",document.body.appendChild(r),r.click(),r.remove()}function es(e,t){const n=new Blob([t],{type:"application/zip"});Zi(e,URL.createObjectURL(n))}function ts(){const e=Si(),t=on((e=>e.dos.ci)),[n,r]=ie(0),[o,i]=ie(null),[s,a]=ie([]),[c,l]=ie([]),[u,d]=ie(null),[f,h]=ie(!1);function p(e){i(e),r(Math.round(cs(e)/1024/1024*100)/100)}return ae((()=>{const e=Qo.ci;if(null===e||!t)return;let n=!1;return e.fsTree().then((e=>{n||p(ns(e))})).catch((e=>{console.error(e),n||p(null)})),()=>{n=!0}}),[t]),ri("div",{class:"editor-fs-frame frame-root items-start px-4",children:[(f||null!==u)&&ri("div",{class:"card card-bordered bg-base-100 shadow-xl w-full",children:ri("div",{class:"card-body",children:[ri("div",{class:"card-title",children:e(f?"please_wait":"uploading_file")}),ri("span",{class:"break-words",children:f?e("making_bundle"):u})]})}),!f&&null===u&&o&&ri("div",{className:"fs-tree-view",children:[ri(os,{onRefresh:async function(){p(null);const e=Qo.ci;if(null===e||!t)return;p(ns(await e.fsTree()))},onUploadingFile:d,onMakingBundle:h}),ri("div",{class:"bg-base-200 px-2 py-1 text-right",children:[e("size"),": ",n," Mb"]}),ri("div",{class:"fs-tree",children:ri(Wi,{icons:{expandOpen:ri(ss,{}),expandClose:ri(as,{})},iconsClass:"icon",nativeCheckboxes:!1,onlyLeafCheckboxes:!0,nodes:o,checked:c,onCheck:function(e,t){l(e)},expanded:s,onExpand:function(e,t){a(e)}})})]})]})}function ns(e){var t;const n=[];for(const r of(null==(t=e.nodes)?void 0:t.sort(is))||[])n.push(rs(r,"."));return n}function rs(e,t){const n=t+"/"+e.name,r={label:e.name,value:n,fsNode:e};if(null!==e.nodes){const t=e.nodes.sort(is).map((e=>rs(e,n)));r.children=t}return r}function os(e){const t=Si(),n=le(null),r=le(null),o=tr(),{onRefresh:i,onUploadingFile:s,onMakingBundle:a}=e;function c(e){const t=(e?r:n).current;null!==t&&t.click()}async function l(e){const t=Qo.ci,n=e.target.files;if(null!==t&&null!==n){try{for(const e of n){s(e.name);const n=(e.webkitRelativePath??"").split("/");n.shift();const r=n.join("/");await t.fsWriteFile(0==r.length?e.name:r,e.stream())}}finally{s(null)}await i()}}return ae((()=>{null!==n.current&&(n.current.setAttribute("directory",""),n.current.setAttribute("webkitdirectory",""))}),[n]),ri("div",{class:"h-6 flex flex-row",children:[ri("input",{class:"hidden",type:"file",multiple:!0,ref:n,onChange:l}),ri("input",{class:"hidden",type:"file",multiple:!0,ref:r,onChange:l}),ri("button",{class:"refresh btn-xs rounded-none",onClick:i,children:ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})}),ri("button",{class:"add-file btn-xs rounded-none",onClick:()=>c(!0),children:ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}),ri("button",{class:"add-dir btn-xs rounded-none",onClick:()=>c(!1),children:ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 10.5v6m3-3H9m4.06-7.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})})}),ri("div",{class:"flex-grow"}),ri("button",{class:"download btn-xs rounded-none",onClick:async function(){const e=Qo.ci;if(null!==e){a(!0);try{const t=await e.persist(!1);t&&es("bundle.jsdos",t)}finally{a(!1)}}},children:ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13.5l3 3m0 0l3-3m-3 3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})})}),ri("button",{class:"restart btn-xs rounded-none",onClick:async function(){const e=Qo.ci;if(null!==e&&window.confirm(t("fs_restart"))){a(!0);try{const t=await e.persist(!1);t&&async function(e,t,n){await Qi("bundle.jsdos",Promise.resolve(e),null,null,n),t&&n(ei.actions.frameConf())}(t,!0,o)}finally{a(!1)}}},children:ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 7.5V18M15 7.5V18M3 16.811V8.69c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 010 1.954l-7.108 4.061A1.125 1.125 0 013 16.811z"})})})]})}function is(e,t){return null!==e.nodes&&null!==t.nodes?t.name.localeCompare(e.name):null===e.nodes?1:-1}function ss(){return ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-2",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})}function as(){return ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-2",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})}function cs(e){if(!e)return 0;let t=0;for(const n of e)null!==n.fsNode.size?t+=n.fsNode.size:t+=cs(n.children);return t}function ls(){const[e,t]=ie(null),[n,r]=ie({}),o=Si(),i=tr();function s(e,n){const o=ai+"/"+si+"/personal-v2/"+ci+"/"+n+"/";const i={};e=e.filter((e=>{if(e.startsWith(o)){const t=decodeURIComponent(e.substring(e.lastIndexOf("/")+1));return i[t.substring(0,t.length-4)]=e,!1}return!0})),t(e),r(i)}if(ae((()=>{const e=Qo.cache;e.keys().then((t=>s(t,e.owner))).catch(console.error)}),[]),null===e)return ri("div",{class:"host-cache-frame frame-root items-center my-4",children:ri("div",{class:"radial-progress animate-spin",style:"--value:70;"})});return ri("div",{class:"host-cache-frame frame-root items-start px-4",children:ri("div",{class:"w-full",children:ri("table",{class:"table table w-full",children:[ri("thead",{children:ri("tr",{children:[ri("th",{children:o("stored")}),ri("th",{})]})}),ri("tbody",{children:e.map((r=>ri(y,{children:ri("tr",{children:[ri("td",{class:"url cursor-pointer underline hover:text-accent",onClick:()=>async function(e){let t;i(ei.actions.frameNone());try{t=new URL(e)}catch(n){return void console.error(n)}try{await Yi(t.toString(),i)}catch(n){i(Li.actions.bndError(n.message??"unexpected error"))}}(r),children:r}),ri("td",{children:[void 0!==n[r]&&ri("div",{class:"cursor-pointer text-primary underline hover:text-accent",onClick:()=>async function(e,t){try{const n=t.substring(e.lastIndexOf("/")+1);Zi((0===n.length?"bundle.jsdos":n)+"chages.zip",e)}catch(n){}}(n[r],r),children:o("changes")}),ri("div",{class:"cursor-pointer hover:text-accent",onClick:()=>async function(e){try{const t=await Qo.cache.get(e),n=e.substring(e.lastIndexOf("/")+1);es(0===n.length?"bundle.jsdos":n,t)}catch(t){}}(r),children:o("download")}),ri("div",{class:"cursor-pointer hover:text-accent",onClick:()=>function(n){Qo.cache.del(n).catch(console.error),t(e.filter((e=>e!==n)))}(r),children:o("delete")})]})]})})))})]})})})}function us(e){const t=le(null);return ae((()=>{null!==t&&null!==t.current&&(t.current.indeterminate=e.intermediate)}),[t,e.intermediate]),ri("div",{className:e.class+" form-control option",onClick:function(){e.onChange&&e.onChange(!(!0===e.checked))},children:ri("label",{className:"label cursor-pointer",children:[ri("span",{className:"label-text mr-6",children:e.label}),ri("input",{ref:t,checked:!0===e.checked,type:"checkbox",className:"toggle "+(e.checked?" toggle-primary ":"")+e.toggleClass,disabled:!0===e.disabled})]})})}function ds(e){const t=Si(),n=!0===e.multiline;return ri("div",{class:e.class+" option flex "+(n?"flex-col":"flex-row items-center"),children:[ri("div",{class:n?"mb-2":"mr-4",children:e.label}),ri("div",{class:"flex-grow",children:ri("select",{class:e.selectClass?e.selectClass:n?"w-full":"w-28",onChange:function(t){void 0!==e.onSelect&&e.onSelect(t.currentTarget.value)},disabled:!0===e.disabled,children:e.values.map((n=>ri("option",{selected:n===e.selected,value:n,children:t(n)})))})})]})}function fs(e){return ri("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:e.class??"absolute left-0 top-0 -ml-1 -mt-1 text-error w-4 h-4",children:ri("path",{"fill-rule":"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z","clip-rule":"evenodd"})})}function hs(){const e=on((e=>e.auth.account)),t=on((e=>e.dos.network)),n=t.room,r=t.server,o="disconnected"!==t.ipx,i=Si(),s=tr(),a=!0===(null==e?void 0:e.premium),c="connected"===t.ipx?location.href+function(){if(location.href.endsWith("?")||location.href.endsWith("&"))return"";return location.href.indexOf("?")>0?"&":"?"}()+"ipx=1&server="+t.server+"&room="+n:null;return ae((()=>{"netherlands"!==r&&!0!==(null==e?void 0:e.premium)&&s(Li.actions.setServer("netherlands"))}),[r,e]),ri("div",{class:"network-frame frame-root items-start px-4 relative",children:[ri("div",{class:"ml-1 mb-4 w-full flex flex-row items-center",children:[ri(ds,{class:"text-sm",selectClass:"w-full",label:i("server")+":",selected:r,values:["netherlands","newyork","singapore"],disabled:o,onSelect:function(t){var n;n=t,s(Li.actions.setServer(n)),a||ti(e,s)}}),ri("div",{onClick:function(){ti(e,s)},children:ri(fs,{class:"cursor-pointer ml-2 w-4 h-4 text-error"})})]}),ri("div",{class:"form-control w-full",children:[ri("label",{class:"label",children:ri("span",{class:"label-text",children:[i("room"),":"]})}),ri("input",{type:"text",class:"input w-full input-sm input-bordered",disabled:o,onChange:e=>{return t=e.currentTarget.value,void s(Li.actions.setRoom(t));var t},value:n})]}),ri(us,{class:"mt-4 "+("error"===t.ipx?"error":""),onChange:function(){"connected"===t.ipx?s(Li.actions.disconnectIpx()):s(Di.connectIpx({room:n,address:"wss://"+(a?r:"netherlands")+".dos.zone"}))},label:"IPX",checked:"connected"===t.ipx,disabled:"connecting"===t.ipx,intermediate:"connecting"===t.ipx}),null!==c&&ri("div",{class:"mt-4 text-sm alert alert-success shadow-lg flex flex-col",children:[ri("div",{children:[i("copy_net_link"),":"]}),ri("div",{class:"flex flex-row",children:[ri("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 mx-1 cursor-pointer hover:text-accent-focus flex-shrink-0",fill:"none",onClick:function(){c&&(!async function(e,t,n){if(!navigator.clipboard)return;try{await navigator.clipboard.writeText(e),n(ei.actions.showToast({message:t("copied"),intent:"success"}))}catch(r){n(ei.actions.showToast({message:t("error"),intent:"error"}))}}(c,i,s),s(ei.actions.frameNone()))},viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"})}),ri("div",{class:"contextmenu underline break-all",target:"_blank",children:c})]})]})]})}function ps(e){return ri("svg",{xmlns:"http://www.w3.org/2000/svg",style:"padding: 2px",viewBox:"0 0 16 16","enable-background":"new 0 0 16 16",fill:"currentColor",class:"w-full h-full rounded-lg "+e.class,children:ri("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.71,2.29l-2-2C13.53,0.11,13.28,0,13,0h-1v6H4V0H1C0.45,0,0,0.45,0,1v14 c0,0.55,0.45,1,1,1h14c0.55,0,1-0.45,1-1V3C16,2.72,15.89,2.47,15.71,2.29z M14,15H2V9c0-0.55,0.45-1,1-1h10c0.55,0,1,0.45,1,1V15 z M11,1H9v4h2V1z"})})}function vs(e){const[t,n]=ie(!1),r=on((e=>e.auth.account)),o=null===r,i=tr(),s=Si();if(!on((e=>e.ui.cloudSaves))||null===Qo.loadedBundle||null===Qo.loadedBundle.bundleChangesUrl)return null;return ri("div",{class:"save-button sidebar-button overflow-hidden "+(t?" sidebar-highlight ":"")+e.class+(o?" opacity-50":""),onClick:async function(){var e;if(o)return void i(ei.actions.modalLogin());if(t)return;const a=Qo.ci,c=null==(e=Qo.loadedBundle)?void 0:e.bundleChangesUrl;if(null!==a&&c){n(!0);try{const e=await a.persist(!0);null!==e&&(null!==r&&r.premium?await Promise.all([Ki(c,e),Qo.cache.put(c,e)]):await Qo.cache.put(c,e)),i(ei.actions.showToast({message:s("success"),intent:"success"}))}catch(l){i(ei.actions.showToast({message:s("unable_to_save"),intent:"error"})),console.error(l)}finally{n(!1)}}},children:ri("div",{class:"w-full h-full flex justify-center",children:[ri(ps,{}),t&&ri("div",{class:"sidebar-badge"}),o&&ri(fs,{}),ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"absolute bottom-1 w-3 h-3 text-primary-content",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"})})]})})}function ms(){var e;const t=null==(e=on((e=>e.auth.account)))?void 0:e.premium;return ri("div",{class:"quick-save-frame flex flex-col justify-center items-center -my-2",children:[ri(vs,{}),ri(_s,{label:1,bgcolor:"bg-primary",textcolor:"text-primary-content"}),ri(bs,{label:1,bgcolor:"bg-primary"}),ri(_s,{disabled:!t,label:2,bgcolor:"bg-secondary",textcolor:"text-secondary-content"}),ri(bs,{disabled:!t,label:2,bgcolor:"bg-secondary"}),ri(_s,{disabled:!t,label:3,bgcolor:"bg-accent",textcolor:"text-accent-content"}),ri(bs,{disabled:!t,label:3,bgcolor:"bg-accent"})]})}function _s(e){const t=on((e=>e.auth.account)),n=tr();return ri("div",{class:"sidebar-button flex justify-center "+(e.disabled?"opacity-50":""),onClick:function(){!0===e.disabled&&ti(t,n);const r=Qo.ci;null!==r&&r.sendBackendEvent({type:"wc-trigger-event",event:"hand_savestate"})},children:[ri(ps,{}),!0!==e.disabled&&ri("div",{class:"text-badge "+e.textcolor+" "+e.bgcolor,children:e.label}),!0===e.disabled&&ri(fs,{}),ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"absolute bottom-1 w-3 h-3",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})})]})}function bs(e){const t=on((e=>e.auth.account)),n=tr();return ri("div",{class:"sidebar-button flex justify-center "+(e.disabled?" opacity-50":""),onClick:function(){!0===e.disabled&&ti(t,n);const r=Qo.ci;null!==r&&r.sendBackendEvent({type:"wc-trigger-event",event:"hand_loadstate"})},children:[ri(ps,{class:"opacity-10"}),!0===e.disabled&&ri(fs,{}),ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"absolute bottom-1 w-6 h-6 -scale-y-100",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m15 15 6-6m0 0-6-6m6 6H9a6 6 0 0 0 0 12h3"})})]})}function ys(){const e=Si(),t=tr(),n=on((e=>e.ui.editor));return ri(us,{class:"mt-4",label:e("editor"),checked:n,onChange:e=>t(ei.actions.setEditor(e))})}function gs(){const e=Si(),t=tr(),n=on((e=>e.dos.mouseCapture));return ri(us,{class:"mt-4",label:e("mouse_lock"),checked:n,onChange:e=>t(Li.actions.mouseCapture(e))})}function ws(){const e=Si(),t=tr(),n=on((e=>e.dos.paused)),r="run"!==on((e=>e.ui.window));return ri(us,{class:"mt-4",label:e("pause"),checked:n,disabled:r,onChange:e=>t(Li.actions.paused(e))})}function ks(){const e=Si(),t=tr(),n=on((e=>e.dos.worker)),r=on((e=>e.dos.backendHardware)),o="run"===on((e=>e.ui.window));return r&&Qo.options.backendHardware?null:ri(us,{class:"mt-4",label:e("worker"),checked:n,disabled:o,onChange:e=>t(Li.actions.dosWorker(e))})}function xs(){const e=Si(),t=tr(),n=on((e=>e.dos.backendHardware));return Qo.options.backendHardware?ri(us,{class:"mt-4",label:e("hardware"),checked:n,onChange:e=>t(Li.actions.dosBackendHardware(e))}):null}function Ss(){const e=on((e=>e.dos.backendLocked));return ri(js,{label:"emulation_backend",values:[...Mi],disabled:e,selector:e=>e.dos.backend,dispatch:e=>(Xo.setItem("backend",e),Li.actions.dosBackend(e))})}function Cs(){const e="run"===on((e=>e.ui.window));return ri(js,{label:"render_backend",values:[...Ti],disabled:e,selector:e=>e.dos.renderBackend,dispatch:e=>Li.actions.renderBackend(e)})}function Ps(e){return ri(js,{label:"render_aspect",multiline:e.multiline,values:[...Ri],selector:e=>e.dos.renderAspect,dispatch:e=>Li.actions.renderAspect(e)})}function Es(e){return ri(js,{label:"image_rendering",multiline:e.multiline,values:[...Ni],selector:e=>e.dos.imageRendering,dispatch:e=>Li.actions.imageRendering(e)})}function Os(e){return ri(js,{class:e.class,label:"theme",values:[...Zo],selector:e=>e.ui.theme,dispatch:e=>ei.actions.theme(e),multiline:e.multiline})}function js(e){const t=Si(),n=on(e.selector),r=tr();return ri(ds,{class:"mt-4 "+e.class,disabled:e.disabled,multiline:e.multiline,label:t(e.label),selected:n,values:e.values,onSelect:function(t){r(e.dispatch(t))}})}function As(e){const t=le(null),n=le(null);ae((()=>{if(null===(null==t?void 0:t.current))return;const n=t.current;let r=!1;function o(t){const r=n.getBoundingClientRect(),o=Math.min(1,Math.max(0,(t.clientX-r.left)/r.width));e.onChange(o)}function i(e){r=!0,o(e)}function s(e){r&&o(e)}function a(e){r=!1}return n.addEventListener("pointerdown",i),n.addEventListener("pointermove",s),n.addEventListener("pointerup",a),n.addEventListener("pointercancel",a),n.addEventListener("pointerleave",a),()=>{n.removeEventListener("pointerdown",i),n.removeEventListener("pointermove",s),n.removeEventListener("pointerup",a),n.removeEventListener("pointercancel",a),n.removeEventListener("pointerleave",a)}}),[t]);const r=Math.min(Math.max(0,100*e.value),100);return ri("div",{class:e.class+" slider option",children:[ri("div",{class:"label",children:e.label}),ri("div",{class:"touch",ref:t,children:[ri("div",{class:"bg"}),ri("div",{class:"point",ref:n,style:{left:"calc("+r+"% - 12px)"}})]})]})}function Ms(e){const t=Si(),n=on((e=>e.dos.mouseSensitivity)),r=tr();return ri(As,{class:"mt-4 "+e.class,label:t("mouse_sensitivity"),value:n,onChange:e=>r(Li.actions.mouseSensitivity(e))})}function Ts(e){const t=Si(),n=on((e=>e.dos.volume)),r=tr();return ri(As,{class:e.class,label:t("volume"),value:n,onChange:e=>r(Li.actions.volume(e))})}function Rs(e){return ri("div",{class:"settings-frame frame-root items-start pl-4",children:[ri(ws,{}),ri(gs,{}),ri(Ms,{}),ri(Ts,{}),ri(ys,{}),ri(Os,{multiline:!0})]})}function zs(){const e=on((e=>e.dos.stats)),t=Math.round(on((e=>e.dos.stats.cyclesPerMs))/1e3),n=Math.round(e.driveRecv/1024/1024*100)/100,r=e.driveRecvTime/1e3>1?Math.round(n/e.driveRecvTime*1e3*100)/100:0;return ri("div",{class:"stats-frame frame-root items-start px-4",children:ri("div",{class:"w-full overflow-x-auto",children:ri("table",{class:"table table-compact w-full",children:[ri("thead",{children:ri("tr",{children:[ri("th",{children:"Metric"}),ri("th",{children:"Value"})]})}),ri("tbody",{children:[ri("tr",{children:[ri("td",{children:"Cycles/ms"}),t<=0&&ri("td",{children:"~ K"}),t>0&&t<=1e3&&ri("td",{children:[t," K"]}),t>1e3&&ri("td",{children:[Math.round(t/1e3)," KK"]})]}),ri("tr",{children:[ri("td",{children:"NonSkipSleep COUNT/s"}),ri("td",{children:e.nonSkippableSleepPreSec})]}),ri("tr",{children:[ri("td",{children:"Sleep COUNT/s"}),ri("td",{children:e.sleepPerSec})]}),ri("tr",{children:[ri("td",{children:"Sleep TIME/s"}),ri("td",{children:e.sleepTimePerSec})]}),ri("tr",{children:[ri("td",{children:"Msg FRAME/s"}),ri("td",{children:e.framePerSec})]}),ri("tr",{children:[ri("td",{children:"Msg SOUND/s"}),ri("td",{children:e.soundPerSec})]}),ri("tr",{children:[ri("td",{children:"Msg SENT/s"}),ri("td",{children:e.msgSentPerSec})]}),ri("tr",{children:[ri("td",{children:"Msg RECV/s"}),ri("td",{children:e.msgRecvPerSec})]}),ri("tr",{children:[ri("td",{children:"Net SENT/s"}),ri("td",{children:[Math.round(e.netSent/1024*100)/100,"Kb"]})]}),ri("tr",{children:[ri("td",{children:"Net RECV/s"}),ri("td",{children:[Math.round(e.netRecv/1024*100)/100,"Kb"]})]}),ri("tr",{children:[ri("td",{children:"HDD RECV/s"}),ri("td",{children:[n,"Mb (~",r,"Mb/s)"]})]}),ri("tr",{children:[ri("td",{children:"HDD SENT/s"}),ri("td",{children:[Math.round(e.driveSent/1024/1024*100)/100,"Mb"]})]}),ri("tr",{children:[ri("td",{children:"HDD Cache"}),ri("td",{children:[Math.round(e.driveCacheUsed/1024/1024*100)/100,"Mb"]})]}),ri("tr",{children:[ri("td",{children:"HDD Cache Hit/Miss"}),ri("td",{children:[e.driveCacheHit," / ",e.driveCacheMiss]})]})]})]})})})}function Ns(e){return ri("div",{class:"image-rendering-frame frame-root items-start pl-4",children:[ri(Ps,{multiline:!0}),ri(Es,{multiline:!0})]})}function Us(e){const t=on((e=>e.ui.frame)),n=on((e=>e.ui.frameXs)),r=on((e=>e.ui.wideScreen));return"none"===t?null:ri("div",{class:"frame "+(n?" frame-xs ":"")+(n||r?"":" frame-md"),children:["account"===t&&ri(Ci,{}),"settings"===t&&ri(Rs,{}),"editor-conf"===t&&ri(Fi,{}),"editor-fs"===t&&ri(ts,{}),"network"===t&&ri(hs,{}),"stats"===t&&ri(zs,{}),"host-cache"===t&&ri(ls,{}),"quick-save"===t&&ri(ms,{}),"image-rendering"===t&&ri(Ns,{})]})}function Is(e){const t=on((e=>e.auth.account)),n=null!==t,r="account"===on((e=>e.ui.frame)),o=tr();return ri("div",{class:"sidebar-button "+(r?"sidebar-highlight ":"")+("dz.caiiiycuk@gmail.com"===(null==t?void 0:t.email)?"bg-accent ":"")+e.class,onClick:function(){ti(t,o)},children:[ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-full h-full",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963\r 0m11.963 0A8.966 8.966 0 0112 21a8.966\r 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),!1===n&&ri("div",{class:"sidebar-badge"})]})}function Ls(e,t){const n=Qo.root;e?n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen?n.msRequestFullscreen():n.webkitEnterFullscreen?n.webkitEnterFullscreen():n.classList.add("jsdos-fullscreen-workaround"):n.classList.contains("jsdos-fullscreen-workaround")?n.classList.remove("jsdos-fullscreen-workaround"):document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),t(ei.actions.setFullScreen(e))}function Ds(e){const t=on((e=>e.ui.fullScreen)),n=tr();return ri("div",{class:"fullscreen-button sidebar-button "+e.class,onClick:function(){Ls(!t,n)},children:ri("div",{class:"w-full h-full scale-75 hover:scale-90",children:[!t&&ri("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 16 16",fill:"currentColor",stroke:"none","enable-background":"new 0 0 16 16",children:ri("g",{children:ri("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.99,8.99c-0.28,0-0.53,0.11-0.71,0.29l-3.29,3.29v-1.59c0-0.55-0.45-1-1-1 s-1,0.45-1,1v4c0,0.55,0.45,1,1,1h4c0.55,0,1-0.45,1-1s-0.45-1-1-1H3.41L6.7,10.7c0.18-0.18,0.29-0.43,0.29-0.71 C6.99,9.44,6.54,8.99,5.99,8.99z M14.99-0.01h-4c-0.55,0-1,0.45-1,1s0.45,1,1,1h1.59L9.28,5.29C9.1,5.47,8.99,5.72,8.99,5.99 c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l3.29-3.29v1.59c0,0.55,0.45,1,1,1s1-0.45,1-1v-4C15.99,0.44,15.54-0.01,14.99-0.01 z"})})}),t&&ri("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 16 16",fill:"currentColor",stroke:"none","enable-background":"new 0 0 16 16",children:ri("g",{children:ri("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.99,0.99c0-0.55-0.45-1-1-1c-0.28,0-0.53,0.11-0.71,0.29l-3.29,3.29V1.99 c0-0.55-0.45-1-1-1s-1,0.45-1,1v4c0,0.55,0.45,1,1,1h4c0.55,0,1-0.45,1-1s-0.45-1-1-1h-1.59L15.7,1.7 C15.88,1.52,15.99,1.27,15.99,0.99z M5.99,8.99h-4c-0.55,0-1,0.45-1,1s0.45,1,1,1h1.59l-3.29,3.29c-0.18,0.18-0.29,0.43-0.29,0.71 c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l3.29-3.29v1.59c0,0.55,0.45,1,1,1s1-0.45,1-1v-4C6.99,9.44,6.54,8.99,5.99,8.99z"})})})]})})}function Bs(e){const t="network"===on((e=>e.ui.frame)),n=on((e=>"connected"!==e.dos.network.ipx)),r=tr();return ri("div",{class:"network-button sidebar-button "+(t?" sidebar-highlight ":"")+(n?" inactive ":"")+e.class,onClick:function(){r(t?ei.actions.frameNone():ei.actions.frameNetwork())},children:ri("div",{class:"w-full h-full",children:[ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-full h-full",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.288 15.038a5.25 5.25 0 017.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 011.06 0z"})}),n&&ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-full text-error h-full absolute top-0 left-0",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 4L18 18"})})]})})}function Hs(e){return ri(Ks,{class:e.class,frame:"image-rendering",action:ei.actions.frameImageRendering(),children:ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-full h-full",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})})})}function Fs(e){const t=null===on((e=>e.auth.account)),n=t?ei.actions.modalLogin():ei.actions.frameQuickSave();return ri(Ks,{class:e.class+(t?" opacity-50":""),frame:"quick-save",action:n,children:[ri(ps,{}),t&&ri(fs,{})]})}function qs(e){return ri(Ks,{class:e.class,frame:"editor-conf",action:ei.actions.frameConf(),children:ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-full h-full",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})})}function Ws(e){return ri(Ks,{class:e.class,frame:"editor-fs",action:ei.actions.frameFs(),children:ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-full h-full",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 17.25v-.228a4.5 4.5 0 00-.12-1.03l-2.268-9.64a3.375 3.375 0 00-3.285-2.602H7.923a3.375 3.375 0 00-3.285 2.602l-2.268 9.64a4.5 4.5 0 00-.12 1.03v.228m19.5 0a3 3 0 01-3 3H5.25a3 3 0 01-3-3m19.5 0a3 3 0 00-3-3H5.25a3 3 0 00-3 3m16.5 0h.008v.008h-.008v-.008zm-3 0h.008v.008h-.008v-.008z"})})})}function Vs(){const e=Math.round(on((e=>e.dos.stats.cyclesPerMs))/1e3);return ri(Ks,{class:"cycles",frame:"stats",action:ei.actions.frameStats(),children:[e<=0&&ri(y,{children:[ri("span",{children:"~"}),ri("sup",{children:"KC"})]}),e>0&&e<=1e3&&ri(y,{children:[ri("span",{children:e}),ri("sup",{children:"KC"})]}),e>0&&e>1e3&&ri(y,{children:[ri("span",{children:Math.round(e/1e3)}),ri("sup",{children:[ri("strong",{children:"K"}),"KC"]})]})]})}function $s(e){const t=le(null),[n]=ie({recv:0,enabled:!1,delayLedTo:0});ae((()=>{if(t.current){const e=t.current;e.classList.add("bg-base-300");const r=setInterval((()=>{if(n.delayLedTo<=Date.now()){const t=$i.getState().dos.stats.driveRecv,r=n.recv!==t;r!==n.enabled&&(e.classList.remove("bg-base-300","bg-green-300","animate-led"),r?e.classList.add("bg-green-300","animate-led"):e.classList.add("bg-base-300"),n.enabled=r),n.delayLedTo=r?Date.now()+300+1500*Math.random():0,n.recv=t}}),150);return()=>{e.classList.remove("bg-base-300","bg-green-300","animate-led"),clearInterval(r)}}}),[t,n]);const[r,o]=ie(!1),[i,s]=ie({recv:0,timeoutId:null}),a=on((e=>e.dos.stats.driveRecv));if(i.recv!==a){r||o(!0),i.timeoutId&&clearTimeout(i.timeoutId);const e=setTimeout((()=>{o(!1),s({recv:a,timeoutId:null})}),1e3);s({recv:a,timeoutId:e})}return ri("div",{ref:t,class:"self-end mr-2 -mt-3 w-2 h-1"})}function Xs(e){return ri(Ks,{class:e.class,action:ei.actions.frameSettings(),frame:"settings",children:ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-full h-full",children:[ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})}function Ks(e){const t=on((e=>e.ui.frame))===e.frame,n=tr();return ri("div",{class:"sidebar-button "+(t?"sidebar-highlight ":"")+e.class,onClick:function(){n(t?ei.actions.frameNone():e.action)},children:e.children})}function Gs(e){const t=on((e=>e.ui.window)),n=on((e=>e.ui.editor)),r=on((e=>e.dos.backend));return ri("div",{class:"sidebar",children:["run"===t&&"dosbox"===r&&ri(vs,{}),"run"===t&&"dosboxX"===r&&ri(Fs,{}),"run"===t&&ri(Hs,{}),"run"===t&&ri(Bs,{}),!1,n&&"prerun"===t&&ri(qs,{}),n&&"run"===t&&ri(Ws,{}),ri("div",{class:"contentbar"}),"run"===t&&ri(Ds,{}),"run"===t&&ri(Vs,{}),"run"===t&&ri($s,{}),("prerun"===t||"run"===t)&&ri(Xs,{}),"run"!==t&&ri(Is,{})]})}Qo.dispatch=$i.dispatch;const Ys=48,Qs={8:259,9:258,13:257,16:340,17:341,18:342,19:284,27:256,32:32,33:266,34:267,35:269,36:268,37:263,38:265,39:262,40:264,45:260,46:261,48:Ys,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,59:59,64:61,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,93:93,96:320,97:321,98:322,99:323,100:324,101:325,102:326,103:327,104:328,105:329,111:331,112:290,113:291,114:292,115:293,116:294,117:295,118:296,119:297,120:298,121:299,122:300,123:301,144:282,145:281,173:45,186:59,187:61,188:44,189:45,190:46,191:47,219:91,220:92,221:93};for(const Za of Object.keys(Qs));function Js(e){return Qs[e]||0}function Zs(e,t,n,r){const o=e.parentElement.getBoundingClientRect(),i=o.width,s=o.height;if(0===n)return;const a=r===zi?i/s:r??t/n;let c=i,l=i/a;l>s&&(l=s,c=s*a),e.style.position="relative",e.style.top=(s-l)/2+"px",e.style.left=(i-c)/2+"px",e.style.width=c+"px",e.style.height=l+"px"}const ea="\nattribute vec4 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nvarying highp vec2 vTextureCoord;\n\nvoid main(void) {\n  gl_Position = aVertexPosition;\n  vTextureCoord = aTextureCoord;\n}\n",ta="\nvarying highp vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\n\nvoid main(void) {\n  highp vec4 color = texture2D(uSampler, vTextureCoord);\n  gl_FragColor = vec4(color.r, color.g, color.b, 1.0);\n}\n";function na(e,t,n){const r=e.getContext("webgl");if(null===r)throw new Error("Unable to create webgl context on given canvas");const o=function(e,t,n){const r=ra(e,e.VERTEX_SHADER,t),o=ra(e,e.FRAGMENT_SHADER,n),i=e.createProgram();if(e.attachShader(i,r),e.attachShader(i,o),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw new Error("Unable to initialize the shader program: "+e.getProgramInfoLog(i));return i}(r,ea,ta),i=r.getAttribLocation(o,"aVertexPosition"),s=r.getAttribLocation(o,"aTextureCoord"),a=r.getUniformLocation(o,"uSampler");!function(e,t,n){const r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);const o=[-1,-1,0,1,-1,0,1,1,0,-1,-1,0,1,1,0,-1,1,0];e.bufferData(e.ARRAY_BUFFER,new Float32Array(o),e.STATIC_DRAW),e.vertexAttribPointer(t,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(t);const i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i);const s=[0,1,1,1,1,0,0,1,1,0,0,0];e.bufferData(e.ARRAY_BUFFER,new Float32Array(s),e.STATIC_DRAW),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(n)}(r,i,s);const c=r.createTexture();r.bindTexture(r.TEXTURE_2D,c),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR);const l=new Uint8Array([0,0,0]);r.texImage2D(r.TEXTURE_2D,0,r.RGB,1,1,0,r.RGB,r.UNSIGNED_BYTE,l),r.useProgram(o),r.activeTexture(r.TEXTURE0),r.uniform1i(a,0);let u=0,d=0,f=null,h=null,p=0;const v=()=>{null!==h&&(r.texImage2D(r.TEXTURE_2D,0,p,u,d,0,p,r.UNSIGNED_BYTE,h),h=null),r.drawArrays(r.TRIANGLES,0,6),f=null},m=()=>{Zs(e,u,d,n)},_=(t,n)=>{u=t,d=n,e.width=u,e.height=d,h=null,r.viewport(0,0,u,d),m()};t.events().onFrameSize(_),t.events().onFrame(((e,t)=>{h=null!=e?e:t,p=null!=e?r.RGB:r.RGBA,null===f&&(f=requestAnimationFrame(v))})),_(t.width(),t.height());const b=new ResizeObserver(m);return b.observe(e.parentElement),window.addEventListener("resize",m),()=>{t.events().onFrameSize((()=>{})),t.events().onFrame((()=>{})),b.disconnect(),window.removeEventListener("resize",m)}}function ra(e,t,n){const r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(r);throw e.deleteShader(r),new Error("An error occurred compiling the shaders: "+t)}return r}function oa(e,t,n){const r=e.getContext("2d");if(null===r)throw new Error("Unable to create 2d context on given canvas");let o=0,i=0;const s=()=>{Zs(e,o,i,n)};let a=new Uint8ClampedArray(0);const c=(t,n)=>{o=t,i=n,e.width=o,e.height=i,a=new Uint8ClampedArray(t*n*4),s()};t.events().onFrameSize(c),t.events().onFrame(((e,t)=>{if(null===e&&null===t)return;const n=null!==e?e:t;let s=0,c=0;for(;c<a.length;)a[c++]=n[s++],a[c++]=n[s++],a[c++]=n[s++],a[c++]=255,n.length===a.length&&s++;r.putImageData(new ImageData(a,o,i),0,0)})),c(t.width(),t.height());const l=new ResizeObserver(s);return l.observe(e.parentElement),window.addEventListener("resize",s),()=>{t.events().onFrameSize((()=>{})),t.events().onFrame((()=>{})),l.disconnect(),window.removeEventListener("resize",s)}}class ia{constructor(){t(this,"samplesQueue",[])}push(e){this.samplesQueue.push(e)}length(){let e=0;for(const t of this.samplesQueue)e+=t.length;return e}writeTo(e,t){let n=0;for(;this.samplesQueue.length>0;){const r=this.samplesQueue[0],o=Math.min(t-n,r.length);if(o===r.length?(e.set(r,n),this.samplesQueue.shift()):(e.set(r.slice(0,o),n),this.samplesQueue[0]=r.slice(o)),n+=o,n===t)break}n<t&&e.fill(0,n)}}function sa(e,t){if(e.type.match(/^touch/)){const n=e,r=t.getBoundingClientRect();return{x:n.targetTouches[0].clientX-r.x,y:n.targetTouches[0].clientY-r.y,mX:0,mY:0}}if(e.type.match(/^pointer/)){const t=e;return{x:t.offsetX,y:t.offsetY,mX:t.movementX,mY:t.movementY}}{const t=e;return{x:t.offsetX,y:t.offsetY,mX:t.movementX,mY:t.movementY,button:0===t.button?0:1}}}const aa=function(){const e=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),t=e&&!!("ontouchstart"in window),n=e&&!!window.PointerEvent,r=e&&!!window.MSPointerEvent;let o=!e;const i=[],s=[],a=[],c=[],l=[];return n?(i.push("pointerdown"),a.push("pointerup","pointercancel"),s.push("pointermove"),l.push("touchstart","touchmove","touchend")):r?(i.push("MSPointerDown"),s.push("MSPointerMove"),a.push("MSPointerUp")):t?(o=!1,i.push("touchstart","mousedown"),s.push("touchmove"),a.push("touchend","touchcancel","mouseup")):(i.push("mousedown"),s.push("mousemove"),a.push("mouseup"),c.push("mouseleave")),{mobile:e,canLock:o,starters:i,changers:s,enders:a,prevents:l,leavers:c}}();function ca(e,t,n,r,o,i){let s=0;const a=r=>{if(r.target!==e)return;const o=sa(r,e);s=void 0===o.button?t:o.button,n(o.x,o.y,s),r.stopPropagation()},c=t=>{if(t.target!==e)return;const n=sa(t,e);r(n.x,n.y,n.mX,n.mY),t.stopPropagation()},l=t=>{const n=sa(t,e);o(n.x,n.y,s),t.stopPropagation()},u=t=>{if(t.target!==e)return;const n=sa(t,e);i(n.x,n.y),t.stopPropagation()},d=e=>{e.stopPropagation()},f={capture:!1};for(const h of aa.starters)e.addEventListener(h,a,f);for(const h of aa.changers)e.addEventListener(h,c,f);for(const h of aa.enders)e.addEventListener(h,l,f);for(const h of aa.prevents)e.addEventListener(h,d,f);for(const h of aa.leavers)e.addEventListener(h,u,f);return()=>{for(const t of aa.starters)e.removeEventListener(t,a,f);for(const t of aa.changers)e.removeEventListener(t,c,f);for(const t of aa.enders)e.removeEventListener(t,l,f);for(const t of aa.prevents)e.removeEventListener(t,d,f);for(const t of aa.leavers)e.removeEventListener(t,u,f)}}const la=.01;function ua(e,t,n){const r=(e,r)=>function(e,t,n,r){const{width:o,height:i}=n.getBoundingClientRect(),s=r.width(),a=r.height(),c=s/a;let l=o,u=o/c;u>i&&(u=i,l=i*c);const d=(i-u)/2,f=(o-l)/2;let h=Math.max(0,Math.min(1,(e-f)/l)),p=Math.max(0,Math.min(1,(t-d)/u));h<=la&&(h=0);h>=1-la&&(h=1);p<=la&&(p=0);p>=1-la&&(p=1);return{x:h,y:p}}(e,r,t,n);return document.pointerLockElement===t&&document.exitPointerLock(),ca(t,e,(function(e,t,o){const i=r(e,t);n.sendMouseMotion(i.x,i.y),n.sendMouseButton(o,!0)}),(function(e,t,o,i){const s=r(e,t);n.sendMouseMotion(s.x,s.y)}),(function(e,t,o){const i=r(e,t);n.sendMouseMotion(i.x,i.y),n.sendMouseButton(o,!1)}),(function(e,t){const o=r(e,t);n.sendMouseMotion(o.x,o.y)}))}const da=500,fa=50;function ha(e,t,n,r,o){return e&&!aa.canLock?function(e,t,n,r){let o=-1,i=0,s=0,a=0;return ca(n,t,((e,t)=>{o=Date.now(),i=0,s=e,a=t}),(function(t,n,o,c){void 0===o&&(o=t-s),void 0===c&&(c=n-a),s=t,a=n,0===o&&0===c||(i+=Math.abs(o)+Math.abs(c),r.sendMouseRelativeMotion(o*e*2,c*e*2))}),((e,n)=>{if(Date.now()-o<da&&i<fa){const e=t??0;r.sendMouseButton(e,!0),setTimeout((()=>r.sendMouseButton(e,!1)),60)}}),(()=>{}))}(t,n,r,o):e?function(e,t,n,r){function o(){return document.pointerLockElement!==n}return ca(n,t,(function(e,t,i){o()?(n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock).call(n):r.sendMouseButton(i,!0)}),(function(t,n,i,s){o()||0===i&&0===s||r.sendMouseRelativeMotion(i*e,s*e)}),(function(e,t,n){o()||r.sendMouseButton(n,!1)}),(function(e,t){}))}(t,n,r,o):ua(n,r,o)}function pa(e,t){!function(e){const t=tr();ae((()=>{e.events().onMessage(((e,...n)=>{var r,o,i;"error"===e&&(null==(r=n[0])?void 0:r.startsWith("[panic]"))?t(ei.actions.showToast({message:n[0],intent:"panic"})):"log"===e&&-1!==(null==(o=n[0])?void 0:o.indexOf("sockdrive:"))&&(t(ei.actions.cloudSaves(!1)),-1!==(null==(i=n[0])?void 0:i.indexOf("write=false"))&&t(ei.actions.readOnlyWarning(!0)))}))}),[e,t])}(t),function(e){const t=on((e=>e.dos.imageRendering));ae((()=>{e.style.imageRendering="smooth"===t?"auto":t}),[e,t])}(e),function(e){const t=tr();ae((()=>{let n=0,r=0,o=0,i=Ys,s=0,a=0,c=0,l=0,u=Date.now();const d=setInterval((()=>{e.asyncifyStats().then((e=>{const d=Date.now()-u,f=d/1e3;if(f>0){const h={cyclesPerMs:Math.round((e.cycles-n)/d),nonSkippableSleepPreSec:Math.round((e.nonSkippableSleepCount-r)/f),sleepPerSec:Math.round((e.sleepCount-o)/f),sleepTimePerSec:Math.round((e.sleepTime-i)/f),framePerSec:Math.round((e.messageFrame-s)/f),soundPerSec:Math.round((e.messageSound-a)/f),msgSentPerSec:Math.round((e.messageSent-c)/f),msgRecvPerSec:Math.round((e.messageReceived-l)/f),netSent:e.netSent,netRecv:e.netRecv,driveSent:e.driveSent,driveRecv:e.driveRecv,driveRecvTime:e.driveRecvTime,driveCacheHit:e.driveCacheHit,driveCacheMiss:e.driveCacheMiss,driveCacheUsed:e.driveCacheUsed};t(Li.actions.stats(h)),n=e.cycles,r=e.nonSkippableSleepCount,o=e.sleepCount,i=e.sleepTime,s=e.messageFrame,a=e.messageSound,c=e.messageSent,l=e.messageReceived,u=Date.now()}}))}),3e3);return()=>{clearInterval(d)}}),[t,e])}(t),function(e){const t=on((e=>e.dos.paused));ae((()=>{t?e.pause():e.resume()}),[t,e])}(t),function(e){ae((()=>function(e,t){function n(e){if("text"===e.target.type)return;const n=Js(e.keyCode);t.sendKeyEvent(n,!0),e.stopPropagation(),e.preventDefault()}function r(e){if("text"===e.target.type)return;const n=Js(e.keyCode);t.sendKeyEvent(n,!1),e.stopPropagation(),e.preventDefault()}return e.addEventListener("keydown",n),e.addEventListener("keyup",r),()=>{e.removeEventListener("keydown",n),e.removeEventListener("keyup",r)}}(window,e)),[e])}(t),function(e,t){const n=on((e=>e.dos.mouseCapture)),r=on((e=>e.dos.mouseSensitivity));ae((()=>ha(n,.1+3*r,0,e,t)),[e,t,n,r])}(e,t),function(e,t){const n=on((e=>e.dos.renderBackend)),r=on((e=>e.dos.renderAspect));let o;switch(r){case"1/1":o=1;break;case"5/4":o=5/4;break;case"4/3":o=4/3;break;case"16/10":o=1.6;break;case"16/9":o=16/9;break;case"Fit":o=zi}ae((()=>{let r=()=>{};if("canvas"===n)r=oa(e,t,o);else try{r=na(e,t,o)}catch(i){console.error("Unalbe to start webgl render",i),r=oa(e,t,o)}return r}),[e,t,n,o])}(e,t),function(e){ae((()=>{const t=function(e,t){const n=e.soundFrequency();if(0===n)return console.warn("Can't create audio node with sampleRate === 0, ingnoring"),()=>{};let r=null;if("undefined"!=typeof AudioContext?r=new AudioContext({sampleRate:n,latencyHint:"interactive"}):void 0!==window.webkitAudioContext&&(r=new window.webkitAudioContext({sampleRate:n,latencyHint:"interactive"})),null==r)return()=>{};const o=new ia;e.events().onSoundPush((e=>{o.length()<6144&&o.push(e)}));const i=r.createScriptProcessor(2048,0,1);let s=!1;i.onaudioprocess=e=>{const t=e.outputBuffer.length,n=e.outputBuffer.numberOfChannels,r=o.length();if(s||(s=r>=2048),s)for(let i=0;i<n;i++){const n=e.outputBuffer.getChannelData(i);o.writeTo(n,t)}};const a=r.createGain();let c;a.connect(r.destination),i.connect(a),a.gain.value=1,t&&(c=t((e=>{a.gain.value=e})));const l=()=>{null!==r&&"suspended"===r.state&&r.resume()};return document.addEventListener("pointerdown",l,{once:!0}),document.addEventListener("keydown",l,{once:!0}),()=>{e.events().onSoundPush((()=>{})),null!==r&&(i.disconnect(),a.disconnect(),r.close().catch(console.error),r=null),void 0!==c&&c(),document.removeEventListener("pointerdown",l),document.removeEventListener("keydown",l)}}(e,(e=>{let t=1;const n=()=>{const n=$i.getState().dos.volume;Math.abs(t-n)>=.05&&(e(n),t=n)};return $i.subscribe(n)}));return t}),[e])}(t)}const va="/b4b5275904d86a4ab8a20917b2b7e34f0df47bf7.jsdos";function ma(e){const t=e.ci,n=on((e=>e.dos.backend)),r=on((e=>e.dos.worker)),[o,i]=ie({runs:0,time:0,vax:0,pc:null}),[s,a]=ie({sleepPerSec:0,cyclesPerMs:0});return ae((()=>{const e=[];t.events().onStdout((t=>{for(const n of e)n(t)}));const n=t.events().onStdout;t.events().onStdout=t=>{e.push(t)};let r=Date.now(),o=0,s=0;return t.events().onStdout((e=>{if(!e.startsWith("dhry2:"))return;t.asyncifyStats().then((e=>{const t=Date.now()-r;a({sleepPerSec:Math.round(1e3*(e.sleepCount-o)/t),cyclesPerMs:Math.round((e.cycles-s)/t)}),r=Date.now(),o=e.sleepCount,s=e.cycles}));const[n,c,l,u]=e.split(" "),d=Number.parseInt(c),f=Number.parseFloat(l),h=Number.parseFloat(u);i(f>=5e3?{runs:d,time:Math.round(10*f)/10,vax:Math.round(100*h)/100,pc:_a(h)}:{runs:d,time:Math.round(10*f)/10,vax:Math.round(100*h)/100,pc:null})})),()=>{t.events().onStdout=n}}),[t]),ri("div",{class:"dhry2-window",children:[ri("div",{class:"title",children:"Dhrystone 2 Benchmark"}),ri("div",{class:"backend",children:["Backend: ",n+"-"+(r?"worker":"direct")]}),ri("div",{class:"results",children:[ri("div",{children:"VAX:"}),ri("div",{children:o.vax}),ri("div",{children:"Cycles p/ms:"}),ri("div",{children:s.cyclesPerMs}),ri("div",{children:"Sleep p/sec:"}),ri("div",{children:s.sleepPerSec}),ri("div",{children:"Runs:"}),ri("div",{children:o.runs}),ri("div",{children:"Time:"}),ri("div",{children:[o.time," ",ri("span",{children:"ms"})]}),null!==o.pc&&ri("div",{children:"PC:"}),null!==o.pc&&ri("div",{children:o.pc??"..."})]})]})}function _a(e){let t=0;for(;2*t+1<ba.length&&!(ba[2*t+1]>=e);)t++;return t=Math.min(ba.length/2-1,t),(ba[2*t]+"").trim()}const ba=["AMD 80386 40MHz",13.7,"IBM 486D2 50MHz",22.4,"80486 DX2 66MHz",35.3,"IBM 486BL 100MHz",40.9,"AMD 5X86 133MHz",84.5,"Pentium 75MHz",87.1,"Cyrix P150 120MHz",160,"Pentium 100MHz",122,"Cyrix PP166 133MHz",180,"IBM 6x86 150MHz",188,"Pentium 133MHz",181,"Pentium 166MHz",189,"Cyrix PR233 188MHz",232,"Pentium 200MHz",269,"Pentium MMX 200MHz",276,"AMD K6 200MHz",289,"Pentium Pro 200MHz",312,"Celeron A 300MHz",484,"Pentium II 300MHz",477,"AMD K62 500MHz",606,"AMD K63 450MHz",645,"Pentium II 450MHz",713,"Celeron A 450MHz",720,"Pentium III 450MHz",722,"Pentium III 600MHz",959,"Athlon 600MHz",942,"Duron 600MHz",999,"Pentium III 1000MHz",1595,"PIII Tualatin 1200MHz",1907,"Pentium 4 1700MHz",1843,"Athlon Tbird 1000MHz",1659,"Duron 1000MHz",1674,"Celeron M 1295MHz",2273,"Atom 1600MHz",1828,"Pentium 4 1900MHz",2003,"Atom 1666MHz",1948,"P4 Xeon 2200MHz",2265,"Atom Z8300 1840MHz",2686,"Athlon 4 1600MHz",2830,"Pentium M 1862MHz",3933,"Ath4 Barton 1800MHz",3172,"Pentium 4E 3000MHz",3553,"Athlon XP 2080MHz",3700,"Turion 64 M 1900MHz",3742,"Pentium 4 3066MHz",4012,"Opteron 1991MHz",3985,"Core 2 Duo M 1830MHz",4952,"Athlon XP 2338MHz",4160,"Athlon 64 2150MHz",4288,"Pentium 4 3678MHz",4227,"Athlon 64 2211MHz",4462,"Celeron C2 M 2000MHz",5275,"Core 2 Duo 1 CP 2400MHz",6446,"Core i5 2467M 2300MHz",4752,"Phenom II 1 CP 3000MHz",7615,"Core i7 930 3066MHz",8684,"Core i7 860 3460MHz",9978,"Core i7 3930K 3800MHz",11197,"Core i7 4820K 3900MHz",11867,"Core i7 4820K 3900MHz",11978,"Core i7 3930K",13877],ya=Symbol("newer"),ga=Symbol("older");class wa{constructor(e,t){"number"!=typeof e&&(t=e,e=0),this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap=new Map,t&&(this.assign(t),e<1&&(this.limit=this.size))}_markEntryAsUsed(e){e!==this.newest&&(e[ya]&&(e===this.oldest&&(this.oldest=e[ya]),e[ya][ga]=e[ga]),e[ga]&&(e[ga][ya]=e[ya]),e[ya]=void 0,e[ga]=this.newest,this.newest&&(this.newest[ya]=e),this.newest=e)}assign(e){let t,n=this.limit||Number.MAX_VALUE;this._keymap.clear();const r=e[Symbol.iterator]();for(let o=r.next();!o.done;o=r.next()){const e=new ka(o.value[0],o.value[1]);if(this._keymap.set(e.key,e),t?(t[ya]=e,e[ga]=t):this.oldest=e,t=e,0==n--)throw new Error("overflow")}this.newest=t,this.size=this._keymap.size}get(e){const t=this._keymap.get(e);if(t)return this._markEntryAsUsed(t),t.value}set(e,t){let n=this._keymap.get(e);return n?(n.value=t,this._markEntryAsUsed(n),this):(this._keymap.set(e,n=new ka(e,t)),this.newest?(this.newest[ya]=n,n[ga]=this.newest):this.oldest=n,this.newest=n,++this.size,this.size>this.limit&&this.shift(),this)}shift(){const e=this.oldest;if(e)return this.oldest[ya]?(this.oldest=this.oldest[ya],this.oldest[ga]=void 0):(this.oldest=void 0,this.newest=void 0),e[ya]=e[ga]=void 0,this._keymap.delete(e.key),--this.size,[e.key,e.value]}}function ka(e,t){this.key=e,this.value=t,this[ya]=void 0,this[ga]=void 0}class xa{constructor(e,t,n){this.aheadRange=t,this.sectorSize=e,this.lru=new wa(Math.floor(n/(t*e)))}read(e){const t=this.getOrigin(e),n=this.lru.get(t);if(n){const r=e-t;return n.slice(r*this.sectorSize,(r+1)*this.sectorSize)}return null}write(e,t){const n=this.getOrigin(e),r=this.lru.get(n);return r&&r.set(t,(e-n)*this.sectorSize),void 0!==r}create(e,t){this.lru.set(e,t.slice(0))}getOrigin(e){return e-e%this.aheadRange}memUsed(){return this.lru.size*this.aheadRange*this.sectorSize}}class Sa{constructor(e,t,n,r,o,i,s,a,c=512,l=33554432){if(this.socket=Promise.resolve(null),this.readAheadPos=0,this.readAheadCompressed=0,this.readStartedAt=0,this.cleanup=()=>{},this.openFn=(e,t)=>{},this.errorFn=e=>{},a>255)throw new Error("Maximum aheadRange is 255");this.sectorSize=c,this.module=i,this.endpoint=e,this.owner=t,this.drive=n,this.token=r,this.request=null,this.readBuffer=new Uint8Array(6),this.writeBuffer=new Uint8Array(5+this.sectorSize),this.readAheadBuffer=s,this.stats=o,this.aheadRange=a,this.aheadSize=a*this.sectorSize,this.decodeBuffer=new Uint8Array(this.aheadSize),this.cache=new xa(this.sectorSize,a,l),this.retries=3,this.reconnect()}onError(e){this.errorFn=e}onOpen(e){this.openFn=e}reconnect(){this.socket=new Promise(((e,t)=>{const n=new WebSocket(this.endpoint);n.binaryType="arraybuffer";const r=this.onMessage.bind(this),o=()=>{const o=i=>{if(n.removeEventListener("message",o),"write"===i.data||"read"===i.data)n.addEventListener("message",r),this.openFn(!0,"write"===i.data),e(n);else{const e=new Error(i.data??"Unable to establish connection");this.errorFn(e),t(e)}};n.addEventListener("message",o),n.send(this.owner+"&"+this.drive+"&"+this.token)},i=e=>{if(console.error("Network error",e,"will reconnect"),s(),n.close(),this.retries--,0===this.retries){const e=new Error("Network problem");this.errorFn(e),t(e)}else setTimeout(this.reconnect.bind(this),300)};n.addEventListener("error",i),n.addEventListener("open",o);const s=function(){n.removeEventListener("message",r),n.removeEventListener("open",o),n.removeEventListener("error",i)};this.cleanup=s})),null!==this.request&&this.executeRequest(this.request)}read(e,t,n){if(null!==this.request&&1===this.request.type)return console.error("New read request while old one is still processed"),n?3:Promise.resolve(3);const r=this.cache.read(e);return null!==r?(n&&this.stats.cacheHit++,this.request=null,this.module.HEAPU8.set(r,t),n?0:Promise.resolve(0)):n?255:(this.stats.cacheMiss++,new Promise((n=>{this.request={type:1,sector:e,buffer:t,resolve:n},this.executeRequest(this.request)})))}write(e,t){return this.request={type:2,sector:e,buffer:this.module.HEAPU8.slice(t,t+this.sectorSize),resolve:()=>{}},this.cache.write(e,this.request.buffer),this.executeRequest(this.request),0}async close(){try{const e=await this.socket;await new Promise((t=>{const n=setInterval((()=>{0===e.bufferedAmount&&(clearInterval(n),t())}),32)})),this.cleanup(),e.close()}finally{this.readAheadBuffer=0}}executeRequest(e){this.socket.then((t=>{if(1===e.type){const{sector:n}=e,r=this.cache.getOrigin(n);this.readStartedAt=Date.now(),this.readAheadPos=0,this.readAheadCompressed=0,this.readBuffer[0]=1,this.readBuffer[1]=255&r,this.readBuffer[2]=r>>8&255,this.readBuffer[3]=r>>16&255,this.readBuffer[4]=r>>24&255,this.readBuffer[5]=this.aheadRange,t.send(this.readBuffer.buffer)}else{const{sector:n,buffer:r,resolve:o}=e;this.stats.write+=this.sectorSize,this.writeBuffer[0]=2,this.writeBuffer[1]=255&n,this.writeBuffer[2]=n>>8&255,this.writeBuffer[3]=n>>16&255,this.writeBuffer[4]=n>>24&255,this.writeBuffer.set(r,5),t.send(this.writeBuffer.buffer),o(0)}}))}onMessage(e){if(null===this.request)console.error("Received message without request"),this.reconnect();else if(2===this.request.type)console.error("Received read payload while write request"),this.reconnect();else if(e.data instanceof ArrayBuffer){let t=new Uint8Array(e.data);0===this.readAheadCompressed&&(this.readAheadCompressed=t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24),t=t.slice(4));const{sector:n,buffer:r,resolve:o}=this.request,i=this.readAheadCompressed-this.readAheadPos;if(t.byteLength>i||i<0||i>this.aheadSize)console.error("wrong read payload length "+t.byteLength+" instead of "+i),o(3);else if(this.module.HEAPU8.set(t,this.readAheadBuffer+this.readAheadPos),this.readAheadPos+=t.byteLength,this.readAheadPos==this.readAheadCompressed){let e=this.aheadSize;if(this.readAheadCompressed!=this.aheadSize)if(void 0!==this.module._decode_lz4_block)e=this.module._decode_lz4_block(this.readAheadCompressed,this.aheadSize,this.readAheadBuffer);else{const t=function(e,t,n,r){let o,i,s;for(n=n||0,r=r||e.length-n,o=n,i=r,s=0;o<i;){const n=e[o++];let r=n>>4;if(r>0){let n=r+240;for(;255===n;)n=e[o++],r+=n;const a=o+r;for(;o<a;)t[s++]=e[o++];if(o===i)return s}const a=e[o++]|e[o++]<<8;if(0===a)return s;if(a>s)return-(o-2);let c=15&n,l=c+240;for(;255===l;)l=e[o++],c+=l;let u=s-a;const d=s+c+4;for(;s<d;)t[s++]=t[u++]}return s}(this.module.HEAPU8.slice(this.readAheadBuffer,this.readAheadBuffer+this.aheadSize),this.decodeBuffer,0,0);t<0?e=t:this.module.HEAPU8.set(this.decodeBuffer,this.readAheadBuffer)}if(e!=this.aheadSize)console.error("wrong decode result "+e+" should be "+this.aheadSize),o(4);else{const e=this.cache.getOrigin(n);this.cache.create(e,this.module.HEAPU8.slice(this.readAheadBuffer,this.readAheadBuffer+this.aheadSize)),this.stats.cacheUsed=this.cache.memUsed();const t=n-e;this.module.HEAPU8.set(this.module.HEAPU8.slice(this.readAheadBuffer+t*this.sectorSize,this.readAheadBuffer+(t+1)*this.sectorSize),r),this.stats.read+=this.readAheadCompressed,this.stats.readTotalTime+=Date.now()-this.readStartedAt,this.request=null,o(0)}}}else console.error("Received non arraybuffer data"),this.reconnect()}}const Ca=new TextDecoder,Pa=new TextEncoder,Ea=2e8,Oa={};["wc-install","wc-run","wc-pack-fs-to-bundle","wc-add-key","wc-mouse-move","wc-mouse-button","wc-mouse-sync","wc-exit","wc-sync-sleep","wc-pause","wc-resume","wc-mute","wc-unmute","wc-connect","wc-disconnect","wc-backend-event","wc-asyncify-stats","wc-fs-tree","wc-fs-get-file","wc-send-data-chunk"].forEach(((e,t)=>Oa[e]=t));const ja={};["ws-extract-progress","ws-ready","ws-server-ready","ws-frame-set-size","ws-update-lines","ws-log","ws-warn","ws-err","ws-stdout","ws-exit","ws-persist","ws-sound-init","ws-sound-push","ws-config","ws-sync-sleep","ws-connected","ws-disconnected","ws-asyncify-stats","ws-fs-tree","ws-send-data-chunk"].forEach(((e,t)=>ja[t]=e));class Aa{constructor(e){t(this,"socket"),t(this,"sessionId",Date.now()+""),t(this,"hardware"),t(this,"cycles",0),t(this,"sockdrive",function(e,t){let n=0;const r={},o={},i={},s={read:0,write:0,readTotalTime:0,cacheHit:0,cacheMiss:0,cacheUsed:0};return{stats:s,open:async(a,c,l,u,d)=>{const f=await fetch(a.replace("wss://","https://").replace("ws://","http://")+"/template/"+c+"/"+l),h=await f.json();if(h.error)throw new Error(h.error);n++,o[n]={name:h.name,size:h.size??0,heads:h.heads??1,cylinders:h.cylinders??520,sectors:h.sectors??63,sectorSize:h.sector_size??512};const p=o[n].sectorSize;return i[n]=new Uint8Array(p+p*d),r[n]=new Sa(a,c,l,u,s,{HEAPU8:i[n]},p,d,p,1),r[n].onOpen(((t,n)=>{e(c+"/"+l,t,n)})),r[n].onError(t),n},read:(e,t)=>r[e]?r[e].read(t,0,!1).then((t=>({code:t,buffer:i[e].slice(o[n].sectorSize)}))):(console.error("ERROR! sockdrive handle",e,"not found"),Promise.resolve({code:1})),write:(e,n,s)=>s.byteLength!=o[e].sectorSize?(t(new Error("sockdrive write buffer size "+s.byteLength+" != sector size "+o[e].sectorSize)),1):r[e]?(i[e].set(s,0),r[e].write(n,0)):(console.error("ERROR! sockdrive handle",e,"not found"),1),close:e=>{r[e]&&(r[e].close(),delete i[e],delete o[e],delete r[e])},template:e=>o[e]}}(this.onSockdriveOpen.bind(this),this.onSockdriveError.bind(this))),t(this,"handler",(()=>{})),this.socket=e,this.socket.addEventListener("error",(e=>{this.handler("ws-err",{tag:"ws",message:e.message??"Unknown transport layer error"}),this.handler("ws-exit",{}),this.socket.close()})),this.socket.addEventListener("message",(async e=>{const t=e.data;this.onMessage(new Uint8Array(await t.arrayBuffer()))})),this.sendMessageToSocket("wc-install"),this.hardware=null}writeUint32(e,t,n){return e[n]=255&t,e[n+1]=(65280&t)>>8,e[n+2]=(16711680&t)>>16,e[n+3]=(4278190080&t)>>24,n+4}readUint32(e,t){return 255&e[t]|e[t+1]<<8&65280|e[t+2]<<16&16711680|e[t+3]<<24&4278190080}readUint64(e,t){return this.readUint32(e,t)+this.readUint32(e,t+4)*2**32}sendMessageToSocket(e,...t){let n=1;for(const i of t)n+=4+((null==i?void 0:i.length)??0);const r=new Uint8Array(n);r[0]="string"==typeof e?Oa[e]:e;let o=1;for(const i of t)this.writeUint32(r,(null==i?void 0:i.length)??0,o),o+=4,i&&(r.set(i,o),o+=i.length);this.socket.send(r)}readMessage(e){const t=[];let n=1;for(;n+4<=e.length;){const r=this.readUint32(e,n);if(n+=4,n+r>e.length)throw new Error("read_message out of bounds");t.push(e.slice(n,n+r)),n+=r}return{id:e[0],payload:t}}onMessage(e){var t;const{id:n,payload:r}=this.readMessage(e),o=ja[n];switch(o){case"ws-ready":case"ws-server-ready":case"ws-exit":"ws-server-ready"!==o&&this.handler(o,{});break;case"ws-stdout":case"ws-log":case"ws-warn":case"ws-err":this.handler(o,{tag:Ca.decode(r[0]),message:Ca.decode(r[1])});break;case"ws-send-data-chunk":{const e={type:Ca.decode(r[0]),name:Ca.decode(r[1]),data:r[2]};this.handler(o,{chunk:e})}break;case"ws-config":this.handler(o,{dosboxConf:r[0],jsdosConf:Ca.decode(r[1])});break;case"ws-sound-init":this.handler(o,{freq:this.readUint32(r[0],0)}),this.handler("ws-server-ready",{});break;case"ws-sound-push":this.handler(o,{samples:new Float32Array(r[0].buffer)});break;case"ws-frame-set-size":this.handler(o,{width:this.readUint32(r[0],0),height:this.readUint32(r[0],4)});break;case"ws-update-lines":if(r.length>0){const e=[];for(const t of r)e.push({start:this.readUint32(t,0),heapu8:t.slice(4)});this.handler(o,{lines:e})}break;case"ws-asyncify-stats":{this.cycles+=this.readUint32(r[0],0);const e={messageSent:this.readUint32(r[0],4),messageReceived:this.readUint32(r[0],8),messageFrame:this.readUint32(r[0],12),messageSound:this.readUint32(r[0],16),nonSkippableSleepCount:0,sleepCount:0,sleepTime:0,cycles:this.cycles,netSent:0,netRecv:0,driveSent:this.sockdrive.stats.write,driveRecv:this.sockdrive.stats.read,driveRecvTime:this.sockdrive.stats.readTotalTime,driveCacheHit:this.sockdrive.stats.cacheHit,driveCacheMiss:this.sockdrive.stats.cacheMiss,driveCacheUsed:this.sockdrive.stats.cacheUsed};this.handler(o,e)}break;case"ws-connected":this.handler(o,{networkType:r[0][0],address:Ca.decode(r[1])});break;case"ws-disconnected":this.handler(o,{networkType:r[0][0]});break;case"ws-fs-tree":{let e=function(e){var t;const n=e.split("/");let r=i;for(let o=1;o<n.length-1;++o){const i=n[o];if(r=null==(t=r.nodes)?void 0:t.find((e=>e.name==i)),!r)throw new Error("Unable to find node "+e+", subdir "+i)}return[r,n[n.length-1]]};const n=[];for(let t=0;t<r.length-1;++t)n.push({name:Ca.decode(r[t]),size:null});const o=r[r.length-1];for(let t=0;t<n.length;++t){const e=this.readUint32(o,4*t);n[t].size=e<0?null:e}const i={name:".",nodes:[],size:null};for(const{name:r,size:s}of n){const[n,o]=e(r);null==(t=n.nodes)||t.push({name:o,size:s,nodes:null===s?[]:null})}this.handler("ws-fs-tree",{fsTree:i})}break;case"ws-persist":this.handler("ws-persist",{bundle:r.length>0?r[0]:null});break;default:void 0===o?(async()=>{switch(n){case 100:{const e=Ca.decode(r[0]),t=Ca.decode(r[1]),n=Ca.decode(r[2]),o=Ca.decode(r[3]),i=this.readUint32(r[4],0),s=await this.sockdrive.open(e,t,n,o,i),a=this.sockdrive.template(s),c=new Uint8Array(24);let l=0;l=this.writeUint32(c,s,l),l=this.writeUint32(c,a.size,l),l=this.writeUint32(c,a.heads,l),l=this.writeUint32(c,a.cylinders,l),l=this.writeUint32(c,a.sectors,l),this.writeUint32(c,a.sectorSize,l),this.sendMessageToSocket(100,c)}break;case 101:{const e=this.readUint32(r[0],0),t=this.readUint32(r[0],4),n=await this.sockdrive.read(e,t),o=new Uint8Array(4);this.writeUint32(o,n.code,0),this.sendMessageToSocket(101,o,n.buffer??null)}break;case 102:{const e=this.readUint32(r[0],0),t=this.readUint32(r[0],4),n=this.sockdrive.write(e,t,r[1]),o=new Uint8Array(4);this.writeUint32(o,n,0)}break;case 103:this.sockdrive.close(this.readUint32(r[0],0));break;default:console.log("WARN! Unhandled server non standard message",n,r)}})().catch((e=>{this.handler("ws-err",{tag:"panic",message:"sockdrive error: "+(e.message??"???")})})):console.warn("WARN! Unhandled server message",o)}}async sendMessageToServer(e,t){if(void 0===t||(null==t?void 0:t.sessionId)!==this.sessionId)return;const n=Oa[e];switch(e){case"wc-run":{const e=t.token??"";this.sendMessageToSocket(n,Pa.encode(e))}break;case"wc-send-data-chunk":{const e=t.chunk;this.sendMessageToSocket(n,Pa.encode(e.type),Pa.encode(e.name),e.data?new Uint8Array(e.data):null)}break;case"wc-asyncify-stats":case"wc-fs-tree":this.sendMessageToSocket(n);break;case"wc-add-key":{const e=new Uint8Array(12);let r=0;r=this.writeUint32(e,t.key,r),r=this.writeUint32(e,t.pressed?1:0,r),this.writeUint32(e,t.timeMs,r),this.sendMessageToSocket(n,e)}break;case"wc-mouse-move":{const e=new Uint8Array(15);let r=0;r=this.writeUint32(e,Math.abs(t.x)*Ea,r),r=this.writeUint32(e,Math.abs(t.y)*Ea,r),r=this.writeUint32(e,t.timeMs,r),e[r]=t.relative?1:0,e[r+1]=t.x>=0?0:1,e[r+2]=t.y>=0?0:1,this.sendMessageToSocket(n,e)}break;case"wc-mouse-button":{const e=new Uint8Array(6);e[0]=t.button,e[1]=t.pressed?1:0,this.writeUint32(e,t.timeMs,2),this.sendMessageToSocket(n,e)}break;case"wc-mouse-sync":{const e=new Uint8Array(4);this.writeUint32(e,t.timeMs,0),this.sendMessageToSocket(n,e)}break;case"wc-connect":this.sendMessageToSocket(n,new Uint8Array([t.networkType]),Pa.encode(t.address));break;case"wc-pack-fs-to-bundle":this.sendMessageToSocket(n,new Uint8Array([t.onlyChanges?1:0]));break;default:console.log("Unhandled client message (wc):",e,n,t)}}initMessageHandler(e){this.handler=(t,n)=>{n.sessionId=this.sessionId,e(t,n)}}exit(){this.sendMessageToSocket("wc-exit")}onSockdriveOpen(e,t,n){this.handler("ws-log",{tag:"worker",message:"sockdrive: "+e+", read="+t+", write="+n})}onSockdriveError(e){this.handler("ws-err",{tag:"panic",message:e.message??"unable to open sockdrive"})}}function Ma(e){const t=le(null),[n,r]=ie(null),o=on((e=>{var t;return null==(t=e.auth.account)?void 0:t.token.access_token})),i=on((e=>e.dos.worker)),s=on((e=>e.dos.backend)),a=on((e=>e.dos.backendHardware)),c=tr();return ae((()=>{try{const e=null!==Qo.loadedBundle.bundleChanges?[Qo.loadedBundle.bundle,Qo.loadedBundle.bundleChanges]:Qo.loadedBundle.bundle;Qo.loadedBundle.bundle=null,Qo.loadedBundle.bundleChanges=null;const t=(async()=>{if(a&&Qo.options.backendHardware){const n=await Qo.options.backendHardware(s);if(null!==n)return emulators.backend(e,await(t=n,new Promise((e=>{let n=!1;const r=setInterval((()=>{if(n)return;n=!0;const o=new WebSocket(t),i=()=>{clearInterval(r),console.log("Connected to",t),e(new Aa(o))};o.addEventListener("error",(e=>{console.error("Can't conect to ",t,e),o.removeEventListener("open",i),o.close(),n=!1})),o.addEventListener("open",i)}),1e3)}))),{token:o})}var t;return emulators[s+(i?"Worker":"Direct")](e,{token:o})})();return t.then((e=>{r(e),c(Li.actions.ci(!0)),Qo.ci=e,Jo("ci-ready",e),window.ci=e})).catch((e=>c(Li.actions.emuError(e.message)))),()=>{t.then((e=>{c(Li.actions.ci(!1)),Qo.ci=null,e.exit()}))}}catch(e){c(Li.actions.emuError(e.message))}}),[i,s,o??null]),ri("div",{class:"bg-black h-full flex-grow overflow-hidden relative",children:[ri("canvas",{ref:t}),t.current&&n&&ri(Ta,{canvas:t.current,ci:n})]})}function Ta(e){const{canvas:t,ci:n}=e,r=on((e=>e.dos.bundle));return pa(t,n),ri(y,{children:(null==r?void 0:r.endsWith(va))&&ri(ma,{ci:n})})}function Ra(e){const t=Si(),n=e.error??"Unexpected error";return ri("div",{class:"flex-grow flex flex-col items-center justify-center px-8 m-auto",children:[ri("div",{class:"text-2xl text-center",children:t("error")}),ri("div",{class:"text-red-400 mt-8 text-2xl text-center",children:['"',n,'"']}),ri("div",{class:"mt-8 text-sm text-center",children:t("consult_logs")}),e.onSkip&&ri("button",{class:"mt-8 btn-primary",onClick:e.onSkip,children:t("skip")})]})}function za(){return ri(Ra,{error:on((e=>e.dos.error))})}function Na(e){const{head:t,message:n}=e;return ri("div",{class:"flex flex-col items-center justify-center frame-color px-8",children:[ri("div",{class:"text-2xl text-center",children:t}),ri("div",{class:"mt-2 text-center",children:n})]})}function Ua(e){return e<1024?e+"b":(e/=1024)<1024?Math.round(e)+"kb":(e/=1024,Math.round(10*e)/10+"mb")}function Ia(){const e=Si(),t=on((e=>e.dos.step)),n=on((e=>e.storage.recived)),r=on((e=>e.storage.total)),o=on((e=>e.storage.ready));let i=e("loading"),s="100%";switch(t){case"bnd-load":i=e("bundle_loading"),n>0&&(s=`${Ua(n)} / ${Ua(r)}`,r>0&&(s+=` (${Math.round(1e3*n/r)/10}%)`));break;case"bnd-config":i=e("bundle_config")}return ri("div",{class:"flex flex-col w-full h-full items-center justify-center",children:[ri(Na,{head:i,message:s}),"bnd-load"===t&&o&&ri(La,{})]})}function La(){const e=Si(),t=tr();return ri(y,{children:[ri("div",{class:"mt-16 text-2xl",children:e("loading_saves")}),ri("div",{onClick:function(){t(mi.actions.ready())},class:"self-center cursor-pointer underline mt-4 text-lg animate-pulse",children:e("account_not_ready")})]})}function Da(){const e=on((e=>e.auth.account)),t=on((e=>e.dos.emuVersion)),n=on((e=>e.i18n.lang)),r=tr(),o=Si();return ri("div",{class:"pre-run-window",children:[ri(Ba,{class:"mb-8"}),(null===e||!e.premium)&&ri("div",{class:"flex flex-row mb-4 -mt-4 items-center",children:[ri("div",{class:"btn btn-accent",onClick:function(){ti(e,r)},children:[ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"red",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"stroke-current flex-shrink-0 h-6 w-6",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),o("not_premium")]}),ri("div",{class:"ml-2 cursor-pointer",onClick:function(){window.open("ru"===n?"https://dos.zone/ru/blog/premium-subscription/":"https://dos.zone/blog/premium-subscription/","_blank")},children:ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})})})]}),ri("div",{class:"flex flex-row flex-wrap justify-end",children:[ri("div",{class:"flex flex-col items-end",children:[ri(Ss,{}),ri(Cs,{})]}),ri("div",{class:"ml-10 flex flex-col items-end",children:[ri(xs,{}),ri(ks,{}),ri(Ps,{}),ri(gs,{})]})]}),ri(Ms,{class:"mt-4 w-full max-w-sm"}),ri(Ts,{class:"w-full max-w-sm"}),ri("div",{class:"text-center mt-8",children:["emu-version: ",ri("span",{class:"text-ellipsis overflow-hidden",children:t})]})]})}function Ba(e){const t=on((e=>e.editor.configChanged)),n=tr();return ri("div",{class:e.class+" cursor-pointer",onClick:function(){t?async function(){var e;const t=$i.getState().editor.bundleConfig,n=null==(e=Qo.loadedBundle)?void 0:e.bundle;if(null===n||null===t||!ArrayBuffer.isView(n))throw new Error("Unexpected behaviour (internal state is broken), bundle is null");Qo.loadedBundle.bundle=await emulators.bundleUpdateConfig(n,t)}().then((()=>n(Li.actions.bndPlay()))).catch((e=>n(Li.actions.bndError(e.message??"unexpected error")))):n(Li.actions.bndPlay())},children:ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-48 h-48 play-button",children:[ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"})]})})}const Ha=document.createElement("input");function Fa(){const e=Si(),t=tr(),[n,r]=ie(!1);if(n)return ri("div",{class:"select-window overflow-hidden flex-grow flex flex-col items-center justify-center px-8 py-8",children:ri(qa,{})});return ri("div",{class:"select-window overflow-hidden flex-grow flex flex-col items-center justify-center px-8",children:[ri("div",{class:"mb-4 text-center underline cursor-pointer hover:text-accent",onClick:()=>r(!0),children:e("load_by_url")}),ri(Wa,{}),ri("div",{class:"mt-4 text-center",children:e("upload_file")}),ri("div",{class:"mt-4 text-center underline cursor-pointer hover:text-accent",onClick:async function(){try{await async function(e){await Qi("empty.jsdos",(async()=>(await emulators.bundle()).toUint8Array())(),null,null,e),e(ei.actions.frameConf()),e(ei.actions.setEditor(!0))}(t).catch(console.error)}catch(e){t(Li.actions.bndError(e.message??"unexpected error"))}},children:e("create_empty")})]})}function qa(){const e=Si(),t=tr(),[n,r]=ie(""),[o,i]=ie(null);return ri(y,{children:[ri("div",{class:"form-control w-3/4 mb-4",children:[ri("label",{class:"label",children:ri("span",{class:"label-text",children:[e("enter_url"),":"]})}),ri("input",{type:"text",class:"input w-full input-sm input-bordered",onChange:e=>r(e.currentTarget.value??""),value:n})]}),ri("div",{class:"mt-4 text-center underline cursor-pointer hover:text-accent",onClick:()=>async function(e){let n;t(ei.actions.frameNone());try{n=new URL(e)}catch(r){return void i(r.message)}try{await Yi(n.toString(),t)}catch(r){t(Li.actions.bndError(r.message??"unexpected error"))}}(n),children:e("load")}),null!==o&&ri("div",{class:"mt-8 text-center text-error",children:o})]})}function Wa(){const e=tr();async function t(){if(Ha.removeEventListener("change",t),null===Ha.files||0===Ha.files.length)return;const n=Ha.files[0];try{await Gi(n,e).catch((t=>e(Li.actions.bndError(t.message))))}catch(r){e(Li.actions.bndError(r.message??"unexpected error"))}}return ri("div",{class:"cursor-pointer",onClick:function(){Ha.addEventListener("change",t),Ha.click()},children:ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-48 h-48 play-button",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13.5l3 3m0 0l3-3m-3 3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})})})}function Va(e){const t="none"!==on((e=>e.ui.frame)),n=on((e=>e.ui.frameXs)),r=on((e=>e.ui.window)),o=on((e=>e.ui.background));let i=ri($a,{});switch(r){case"error":i=ri(za,{});break;case"loading":i=ri(Ia,{});break;case"prerun":i=ri(Da,{});break;case"run":i=ri(Ma,{});break;case"select":i=ri(Fa,{})}return ri("div",{class:"window absolute w-full h-full bg-base-100",children:[ri("div",{class:"background-image",style:{backgroundImage:o?"url("+o+")":void 0}}),ri("div",{class:"relative flex flex-row h-full w-full items-start justify-start overflow-auto",children:[ri("div",{class:(t?n?"w-24":"w-96":"w-12")+" flex-shrink-0"}),i]})]})}function $a(){return ri("div",{class:"w-full h-full flex justify-center items-center",children:ri("div",{class:"radial-progress animate-spin",style:"--value:70;"})})}Ha.type="file";let Xa=ei.getInitialState().wideScreen;function Ka(){const e=le(null),t=on((e=>e.ui.theme)),n=tr();return ae((()=>{if(null===e||null===e.current)return;const t=e.current;function r(){const e=t.getBoundingClientRect().width>640;e!==Xa&&(Xa=e,n(ei.actions.setWideScreen(Xa)))}const o=new ResizeObserver(r);return o.observe(t),window.addEventListener("resize",r),()=>{o.disconnect(),window.removeEventListener("resize",r)}}),[e,n]),ri("div",{ref:e,class:"w-full h-full relative","data-theme":t,children:[ri(Va,{}),ri(Us,{}),ri(Gs,{}),ri(gi,{}),ri(Ga,{}),ri(Ya,{})]})}function Ga(){const e=on((e=>e.ui.toast)),t=on((e=>e.ui.toastIntent));return null===e?null:ri("div",{class:"absolute right-10 bottom-10",children:ri("div",{class:"alert alert-"+("panic"===t?"error":t),children:e})})}function Ya(){const e=on((e=>e.ui.readOnlyWarning)),t=on((e=>e.auth.account)),n=Si(),r=tr();if(!e)return null;return ri("div",{class:"absolute right-10 bottom-10",children:ri("div",{class:"alert",children:[ri("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-info shrink-0 w-6 h-6",children:ri("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),ri("span",{children:n("read_only_access")}),ri("div",{children:[ri("button",{class:"btn btn-sm btn-primary mr-2",onClick:function(){r(ei.actions.readOnlyWarning(!1)),ti(t,r)},children:n("fix")}),ri("button",{class:"btn btn-sm",onClick:function(){r(ei.actions.readOnlyWarning(!1))},children:n("close")})]})]})})}let Qa="none";$i.subscribe((async function(){var e;const t=$i.getState(),n=t.dos.step;if(n!==Qa&&(Qa=n,"emu-ready"===t.dos.step)){const n=null==(e=t.auth.account)?void 0:e.email;if(Qo.cache=await Yo(n??"guest"),Qo.options.url)try{await Yi(Qo.options.url,$i.dispatch)}catch(r){$i.dispatch(Li.actions.bndError(r.message))}else Qo.options.dosboxConf?async function(e,t){Qo.loadedBundle=null,t(ji.actions.init(e)),Ji(e,t),Qo.loadedBundle={bundleUrl:null,bundleChangesUrl:null,bundle:e,bundleChanges:null},t(Li.actions.bndReady({}))}({dosboxConf:Qo.options.dosboxConf,jsdosConf:{version:"8"}},$i.dispatch):$i.dispatch(ei.actions.windowSelect());Jo("emu-ready")}}));let Ja=!1;window.Dos=(e,t={})=>{var n;function r(e){$i.dispatch(ei.actions.theme(e))}function o(e){$i.dispatch(xi.actions.setLang(e))}function i(e){$i.dispatch(Li.actions.dosBackend(e))}function s(e){$i.dispatch(Li.actions.dosBackendLocked(e))}function a(e){$i.dispatch(Li.actions.dosWorker(e))}function c(e){$i.dispatch(Li.actions.mouseCapture(e))}function l(e){$i.dispatch(Li.actions.setServer(e))}function u(e){$i.dispatch(Li.actions.setRoom(e))}function d(e){$i.dispatch(ei.actions.background(e))}function f(e){Ls(e,$i.dispatch)}return Qo.options=t,n=e,Qo.root=n,n.classList.add("jsdos-rso"),n.addEventListener("contextmenu",(e=>{var t;if(null===e.target||!(null==(t=e.target.classList)?void 0:t.contains("contextmenu")))return e.stopPropagation(),e.preventDefault(),!1})),document.addEventListener("fullscreenchange",(()=>{const e=document.fullscreenElement===n;$i.dispatch(ei.actions.setFullScreen(e))})),Ja||(Ja=!0,Bi($i,t.pathPrefix??"https://v8.js-dos.com/latest/emulators/")),t.theme&&r(t.theme),t.lang&&o(t.lang),t.backend&&i(t.backend),t.backendLocked&&s(t.backendLocked),void 0!==t.workerThread&&a(t.workerThread),void 0!==t.mouseCapture&&c(t.mouseCapture),t.server&&l(t.server),t.room&&u(t.room),t.background&&d(t.background),void 0!==t.fullScreen&&f(t.fullScreen),L(ri(Qn,{store:$i,children:ri(Ka,{})}),e),{setTheme:r,setLang:o,setBackend:i,setBackendLocked:s,setWorkerThread:a,setMouseCapture:c,setServer:l,setRoom:u,setFrame:function(e){$i.dispatch(ei.actions.frameNetwork())},setBackground:d,setFullScreen:f}};
//# sourceMappingURL=js-dos.js.map